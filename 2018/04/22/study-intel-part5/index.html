<!DOCTYPE html>
<html lang="ru-RU"><head>
	    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="profile" href="http://gmpg.org/xfn/11">
    <link rel="pingback" href="/blog/xmlrpc.php">
    
<title>&#1048;&#1079;&#1091;&#1095;&#1072;&#1077;&#1084; &#1072;&#1088;&#1093;&#1080;&#1090;&#1077;&#1082;&#1090;&#1091;&#1088;&#1091; Intel x86-64 &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1072;&#1089;&#1089;&#1077;&#1084;&#1073;&#1083;&#1077;&#1088;&#1072; (&#1063;&#1072;&#1089;&#1090;&#1100; 5 &mdash; &#1055;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;) &mdash; Dmitry's Blog</title>
<meta name="robots" content="max-image-preview:large">
	<style>img:is([sizes="auto" i], [sizes^="auto," i]) { contain-intrinsic-size: 3000px 1500px }</style>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="alternate" type="application/rss+xml" title="Dmitry's Blog &raquo; &#1051;&#1077;&#1085;&#1090;&#1072;" href="/blog/feed/">
<link rel="alternate" type="application/rss+xml" title="Dmitry's Blog &raquo; &#1051;&#1077;&#1085;&#1090;&#1072; &#1082;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1077;&#1074;" href="/blog/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Dmitry's Blog &raquo; &#1051;&#1077;&#1085;&#1090;&#1072; &#1082;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1077;&#1074; &#1082; &laquo;&#1048;&#1079;&#1091;&#1095;&#1072;&#1077;&#1084; &#1072;&#1088;&#1093;&#1080;&#1090;&#1077;&#1082;&#1090;&#1091;&#1088;&#1091; Intel x86-64 &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1072;&#1089;&#1089;&#1077;&#1084;&#1073;&#1083;&#1077;&#1088;&#1072; (&#1063;&#1072;&#1089;&#1090;&#1100; 5 &mdash; &#1055;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;)&raquo;" href="/blog/2018/04/22/study-intel-part5/feed/">
<script type="text/javascript">
/* <![CDATA[ */
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/16.0.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/16.0.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/localhost\/dvsav.ru\/wp-includes\/js\/wp-emoji-release.min.js?ver=6.8.2"}};
/*! This file is auto-generated */
!function(s,n){var o,i,e;function c(e){try{var t={supportTests:e,timestamp:(new Date).valueOf()};sessionStorage.setItem(o,JSON.stringify(t))}catch(e){}}function p(e,t,n){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);var t=new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data),a=(e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(n,0,0),new Uint32Array(e.getImageData(0,0,e.canvas.width,e.canvas.height).data));return t.every(function(e,t){return e===a[t]})}function u(e,t){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.fillText(t,0,0);for(var n=e.getImageData(16,16,1,1),a=0;a<n.data.length;a++)if(0!==n.data[a])return!1;return!0}function f(e,t,n,a){switch(t){case"flag":return n(e,"\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f","\ud83c\udff3\ufe0f\u200b\u26a7\ufe0f")?!1:!n(e,"\ud83c\udde8\ud83c\uddf6","\ud83c\udde8\u200b\ud83c\uddf6")&&!n(e,"\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f","\ud83c\udff4\u200b\udb40\udc67\u200b\udb40\udc62\u200b\udb40\udc65\u200b\udb40\udc6e\u200b\udb40\udc67\u200b\udb40\udc7f");case"emoji":return!a(e,"\ud83e\udedf")}return!1}function g(e,t,n,a){var r="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?new OffscreenCanvas(300,150):s.createElement("canvas"),o=r.getContext("2d",{willReadFrequently:!0}),i=(o.textBaseline="top",o.font="600 32px Arial",{});return e.forEach(function(e){i[e]=t(o,e,n,a)}),i}function t(e){var t=s.createElement("script");t.src=e,t.defer=!0,s.head.appendChild(t)}"undefined"!=typeof Promise&&(o="wpEmojiSettingsSupports",i=["flag","emoji"],n.supports={everything:!0,everythingExceptFlag:!0},e=new Promise(function(e){s.addEventListener("DOMContentLoaded",e,{once:!0})}),new Promise(function(t){var n=function(){try{var e=JSON.parse(sessionStorage.getItem(o));if("object"==typeof e&&"number"==typeof e.timestamp&&(new Date).valueOf()<e.timestamp+604800&&"object"==typeof e.supportTests)return e.supportTests}catch(e){}return null}();if(!n){if("undefined"!=typeof Worker&&"undefined"!=typeof OffscreenCanvas&&"undefined"!=typeof URL&&URL.createObjectURL&&"undefined"!=typeof Blob)try{var e="postMessage("+g.toString()+"("+[JSON.stringify(i),f.toString(),p.toString(),u.toString()].join(",")+"));",a=new Blob([e],{type:"text/javascript"}),r=new Worker(URL.createObjectURL(a),{name:"wpTestEmojiSupports"});return void(r.onmessage=function(e){c(n=e.data),r.terminate(),t(n)})}catch(e){}c(n=g(i,f,p,u))}t(n)}).then(function(e){for(var t in e)n.supports[t]=e[t],n.supports.everything=n.supports.everything&&n.supports[t],"flag"!==t&&(n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&n.supports[t]);n.supports.everythingExceptFlag=n.supports.everythingExceptFlag&&!n.supports.flag,n.DOMReady=!1,n.readyCallback=function(){n.DOMReady=!0}}).then(function(){return e}).then(function(){var e;n.supports.everything||(n.readyCallback(),(e=n.source||{}).concatemoji?t(e.concatemoji):e.wpemoji&&e.twemoji&&(t(e.twemoji),t(e.wpemoji)))}))}((window,document),window._wpemojiSettings);
/* ]]> */
</script>
<style id="wp-emoji-styles-inline-css" type="text/css">

	img.wp-smiley, img.emoji {
		display: inline !important;
		border: none !important;
		box-shadow: none !important;
		height: 1em !important;
		width: 1em !important;
		margin: 0 0.07em !important;
		vertical-align: -0.1em !important;
		background: none !important;
		padding: 0 !important;
	}
</style>
<link rel="stylesheet" id="wp-block-library-css" href="/blog/wp-includes/css/dist/block-library/style.min.css?ver=6.8.2" type="text/css" media="all">
<style id="wp-block-library-theme-inline-css" type="text/css">
.wp-block-audio :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio :where(figcaption){color:#ffffffa6}.wp-block-audio{margin:0 0 1em}.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}.wp-block-embed :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed :where(figcaption){color:#ffffffa6}.wp-block-embed{margin:0 0 1em}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:#ffffffa6}:root :where(.wp-block-image figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme :root :where(.wp-block-image figcaption){color:#ffffffa6}.wp-block-image{margin:0 0 1em}.wp-block-pullquote{border-bottom:4px solid;border-top:4px solid;color:currentColor;margin-bottom:1.75em}.wp-block-pullquote cite,.wp-block-pullquote footer,.wp-block-pullquote__citation{color:currentColor;font-size:.8125em;font-style:normal;text-transform:uppercase}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;font-style:normal;position:relative}.wp-block-quote:where(.has-text-align-right){border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote:where(.has-text-align-center){border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote:where(.is-style-plain){border:none}.wp-block-search .wp-block-search__label{font-weight:700}.wp-block-search__button{border:1px solid #ccc;padding:.375em .625em}:where(.wp-block-group.has-background){padding:1.25em 2.375em}.wp-block-separator.has-css-opacity{opacity:.4}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto}.wp-block-separator.has-alpha-channel-opacity{opacity:1}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table{margin:0 0 1em}.wp-block-table td,.wp-block-table th{word-break:normal}.wp-block-table :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table :where(figcaption){color:#ffffffa6}.wp-block-video :where(figcaption){color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video :where(figcaption){color:#ffffffa6}.wp-block-video{margin:0 0 1em}:root :where(.wp-block-template-part.has-background){margin-bottom:0;margin-top:0;padding:1.25em 2.375em}
</style>
<style id="classic-theme-styles-inline-css" type="text/css">
/*! This file is auto-generated */
.wp-block-button__link{color:#fff;background-color:#32373c;border-radius:9999px;box-shadow:none;text-decoration:none;padding:calc(.667em + 2px) calc(1.333em + 2px);font-size:1.125em}.wp-block-file__button{background:#32373c;color:#fff;text-decoration:none}
</style>
<style id="global-styles-inline-css" type="text/css">
:root{--wp--preset--aspect-ratio--square: 1;--wp--preset--aspect-ratio--4-3: 4/3;--wp--preset--aspect-ratio--3-4: 3/4;--wp--preset--aspect-ratio--3-2: 3/2;--wp--preset--aspect-ratio--2-3: 2/3;--wp--preset--aspect-ratio--16-9: 16/9;--wp--preset--aspect-ratio--9-16: 9/16;--wp--preset--color--black: #000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--color--gray: #666666;--wp--preset--color--light-gray: #f3f3f3;--wp--preset--color--dark-gray: #222222;--wp--preset--color--blue: #294a70;--wp--preset--color--dark-blue: #15305b;--wp--preset--color--navy-blue: #00387d;--wp--preset--color--sky-blue: #49688e;--wp--preset--color--light-blue: #6081a7;--wp--preset--color--yellow: #f4a024;--wp--preset--color--dark-yellow: #ffab1f;--wp--preset--color--red: #e4572e;--wp--preset--color--green: #54b77e;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 28px;--wp--preset--font-size--x-large: 42px;--wp--preset--font-size--normal: 16px;--wp--preset--font-size--huge: 32px;--wp--preset--spacing--20: 0.44rem;--wp--preset--spacing--30: 0.67rem;--wp--preset--spacing--40: 1rem;--wp--preset--spacing--50: 1.5rem;--wp--preset--spacing--60: 2.25rem;--wp--preset--spacing--70: 3.38rem;--wp--preset--spacing--80: 5.06rem;--wp--preset--shadow--natural: 6px 6px 9px rgba(0, 0, 0, 0.2);--wp--preset--shadow--deep: 12px 12px 50px rgba(0, 0, 0, 0.4);--wp--preset--shadow--sharp: 6px 6px 0px rgba(0, 0, 0, 0.2);--wp--preset--shadow--outlined: 6px 6px 0px -3px rgba(255, 255, 255, 1), 6px 6px rgba(0, 0, 0, 1);--wp--preset--shadow--crisp: 6px 6px 0px rgba(0, 0, 0, 1);}:where(.is-layout-flex){gap: 0.5em;}:where(.is-layout-grid){gap: 0.5em;}body .is-layout-flex{display: flex;}.is-layout-flex{flex-wrap: wrap;align-items: center;}.is-layout-flex > :is(*, div){margin: 0;}body .is-layout-grid{display: grid;}.is-layout-grid > :is(*, div){margin: 0;}:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
:where(.wp-block-post-template.is-layout-flex){gap: 1.25em;}:where(.wp-block-post-template.is-layout-grid){gap: 1.25em;}
:where(.wp-block-columns.is-layout-flex){gap: 2em;}:where(.wp-block-columns.is-layout-grid){gap: 2em;}
:root :where(.wp-block-pullquote){font-size: 1.5em;line-height: 1.6;}
</style>
<link rel="stylesheet" id="contact-form-7-css" href="/blog/wp-content/plugins/contact-form-7/includes/css/styles.css?ver=6.1.1" type="text/css" media="all">
<link rel="stylesheet" id="fontawesome-css" href="/blog/wp-content/themes/education-hub/third-party/font-awesome/css/all.min.css?ver=6.7.2" type="text/css" media="all">
<link rel="stylesheet" id="education-hub-google-fonts-css" href="//fonts.googleapis.com/css?family=Open+Sans%3A600%2C400%2C400italic%2C300%2C100%2C700%7CMerriweather+Sans%3A400%2C700&amp;ver=6.8.2" type="text/css" media="all">
<link rel="stylesheet" id="education-hub-style-css" href="/blog/wp-content/themes/education-hub/style.css?ver=3.0" type="text/css" media="all">
<link rel="stylesheet" id="education-hub-block-style-css" href="/blog/wp-content/themes/education-hub/css/blocks.css?ver=20201208" type="text/css" media="all">
<link rel="stylesheet" id="codecolorer-css" href="/blog/wp-content/plugins/codecolorer/codecolorer.css?ver=0.10.1" type="text/css" media="screen">
<script type="text/javascript" src="/blog/wp-includes/js/jquery/jquery.min.js?ver=3.7.1" id="jquery-core-js"></script>
<script type="text/javascript" src="/blog/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.4.1" id="jquery-migrate-js"></script>
<link rel="https://api.w.org/" href="/blog/wp-json/"><link rel="alternate" title="JSON" type="application/json" href="/blog/wp-json/wp/v2/posts/394"><link rel="EditURI" type="application/rsd+xml" title="RSD" href="/blog/xmlrpc.php?rsd">
<meta name="generator" content="WordPress 6.8.2">
<link rel="canonical" href="/blog/2018/04/22/study-intel-part5/">
<link rel="shortlink" href="/blog/?p=394">
<link rel="alternate" title="oEmbed (JSON)" type="application/json+oembed" href="/blog/wp-json/oembed/1.0/embed?url=%2Fblog%2F2018%2F04%2F22%2Fstudy-intel-part5%2F">
<link rel="alternate" title="oEmbed (XML)" type="text/xml+oembed" href="/blog/wp-json/oembed/1.0/embed?url=%2Fblog%2F2018%2F04%2F22%2Fstudy-intel-part5%2F&amp;format=xml">
<link rel="icon" href="/blog/wp-content/uploads/2020/02/%D0%BA%D0%B0%D1%80%D0%B0%D0%BD%D0%B4%D0%B0%D1%88_%D1%81%D0%B6%D0%B0%D1%82-150x150.png" sizes="32x32">
<link rel="icon" href="/blog/wp-content/uploads/2020/02/%D0%BA%D0%B0%D1%80%D0%B0%D0%BD%D0%B4%D0%B0%D1%88_%D1%81%D0%B6%D0%B0%D1%82-270x270.png" sizes="192x192">
<link rel="apple-touch-icon" href="/blog/wp-content/uploads/2020/02/%D0%BA%D0%B0%D1%80%D0%B0%D0%BD%D0%B4%D0%B0%D1%88_%D1%81%D0%B6%D0%B0%D1%82-270x270.png">
<meta name="msapplication-TileImage" content="/blog/wp-content/uploads/2020/02/&#1082;&#1072;&#1088;&#1072;&#1085;&#1076;&#1072;&#1096;_&#1089;&#1078;&#1072;&#1090;-270x270.png">
		<style type="text/css" id="wp-custom-css">
			.entry-content a:link {
  text-decoration: underline; 
}		</style>
		</head>

<body class="wp-singular post-template-default single single-post postid-394 single-format-standard wp-custom-logo wp-embed-responsive wp-theme-education-hub site-layout-fluid global-layout-right-sidebar">

	
	    <div id="page" class="container hfeed site">
    <a class="skip-link screen-reader-text" href="#content">&#1055;&#1077;&#1088;&#1077;&#1081;&#1090;&#1080; &#1082; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1084;&#1086;&#1084;&#1091;</a>
    	<div id="tophead">
		<div class="container">
			<div id="quick-contact">
				
							</div>

			
			
		</div> <!-- .container -->
	</div><!--  #tophead -->

	<header id="masthead" class="site-header" role="banner"><div class="container">			    <div class="site-branding">

		    <a href="/blog/" class="custom-logo-link" rel="home"><img width="150" height="150" src="/blog/wp-content/uploads/2020/02/pencil-compressed.png" class="custom-logo" alt="Dmitry's Blog" decoding="async" srcset="/blog/wp-content/uploads/2020/02/pencil-compressed.png 150w, /blog/wp-content/uploads/2020/02/&#1082;&#1072;&#1088;&#1072;&#1085;&#1076;&#1072;&#1096;_&#1089;&#1078;&#1072;&#1090;-270x270.png 270w, /blog/wp-content/uploads/2020/02/&#1082;&#1072;&#1088;&#1072;&#1085;&#1076;&#1072;&#1096;_&#1089;&#1078;&#1072;&#1090;-300x300.png 300w, /blog/wp-content/uploads/2020/02/&#1082;&#1072;&#1088;&#1072;&#1085;&#1076;&#1072;&#1096;_&#1089;&#1078;&#1072;&#1090;-768x768.png 768w" sizes="(max-width: 150px) 100vw, 150px"></a>
										        <div id="site-identity">
					            	              <p class="site-title"><a href="/blog/" rel="home">Dmitry's Blog</a></p>
	            				
					        </div><!-- #site-identity -->
			
	    </div><!-- .site-branding -->

	    	    		    <div class="search-section">
		    	<form role="search" method="get" class="search-form" action="/blog/">
	      <label>
	        <span class="screen-reader-text">&#1055;&#1086;&#1080;&#1089;&#1082; &#1087;&#1086;:</span>
	        <input type="search" class="search-field" placeholder="&#1055;&#1086;&#1080;&#1089;&#1082;&hellip;" value="" name="s" title="&#1055;&#1086;&#1080;&#1089;&#1082; &#1087;&#1086;:">
	      </label>
	      <input type="submit" class="search-submit" value="&#1055;&#1086;&#1080;&#1089;&#1082;">
	    </form>		    </div>
	    
        </div><!-- .container --></header><!-- #masthead -->    <div id="main-nav" class="clear-fix">
        <div class="container">
        <nav id="site-navigation" class="main-navigation" role="navigation">
          <button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">
          	<i class="fa fa-bars"></i>
          	<i class="fa fa-close"></i>
			&#1052;&#1077;&#1085;&#1102;</button>
            <div class="wrap-menu-content">
				<ul><li><a href="/blog/">&#1043;&#1083;&#1072;&#1074;&#1085;&#1072;&#1103;</a></li><li class="page_item page-item-387"><a href="/blog/aboutme/">&#1054; &#1089;&#1077;&#1073;&#1077;</a></li>
</ul>            </div><!-- .menu-content -->
        </nav><!-- #site-navigation -->
       </div> <!-- .container -->
    </div> <!-- #main-nav -->
    
	<div id="content" class="site-content"><div class="container"><div class="inner-wrapper">    
	<div id="primary" class="content-area">
		<main id="main" class="site-main" role="main">

		
			
<article id="post-394" class="post-394 post type-post status-publish format-standard hentry category-1 tag-assembler tag-x86">
	<header class="entry-header">
		<h1 class="entry-title">&#1048;&#1079;&#1091;&#1095;&#1072;&#1077;&#1084; &#1072;&#1088;&#1093;&#1080;&#1090;&#1077;&#1082;&#1090;&#1091;&#1088;&#1091; Intel x86-64 &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1072;&#1089;&#1089;&#1077;&#1084;&#1073;&#1083;&#1077;&#1088;&#1072; (&#1063;&#1072;&#1089;&#1090;&#1100; 5 &mdash; &#1055;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;)</h1>
		<div class="entry-meta">
			<span class="posted-on"><a href="/blog/2018/04/22/study-intel-part5/" rel="bookmark"><time class="entry-date published updated" datetime="2018-04-22T19:57:21+03:00">22.04.2018</time></a></span><span class="byline"> <span class="author vcard"><a class="url fn n" href="/blog/author/dvsav/">dvsav</a></span></span>		</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

	<div class="entry-content">
    		<p>&#1055;&#1086;&#1089;&#1083;&#1077; &#1090;&#1086;&#1075;&#1086; &#1082;&#1072;&#1082; &#1074; <a href="http://localhost/study-intel-part4/">&#1087;&#1088;&#1077;&#1076;&#1099;&#1076;&#1091;&#1097;&#1077;&#1081; &#1079;&#1072;&#1084;&#1077;&#1090;&#1082;&#1077;</a> &#1084;&#1099; &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083;&#1080; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1095;&#1080;&#1082;, &#1084;&#1099; &#1085;&#1077; &#1086;&#1075;&#1088;&#1072;&#1085;&#1080;&#1095;&#1077;&#1085;&#1099; &#1074; &#1088;&#1072;&#1079;&#1084;&#1077;&#1088;&#1077; &#1082;&#1086;&#1076;&#1072; &#1085;&#1072;&#1096;&#1077;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099;. &#1042;&#1077;&#1088;&#1085;&#1077;&#1084;&#1089;&#1103; &#1090;&#1077;&#1087;&#1077;&#1088;&#1100; &#1089;&#1085;&#1086;&#1074;&#1072; &#1082; &#1083;&#1086;&#1075;&#1080;&#1082;&#1077; &#1087;&#1086;&#1074;&#1077;&#1089;&#1090;&#1074;&#1086;&#1074;&#1072;&#1085;&#1080;&#1103; &#1082;&#1085;&#1080;&#1075;&#1080; <strong>&#1056;&#1091;&#1089;&#1083;&#1072;&#1085;&#1072; &#1040;&#1073;&#1083;&#1103;&#1079;&#1086;&#1074;&#1072; &mdash; &#1055;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077; &#1085;&#1072; &#1072;&#1089;&#1089;&#1077;&#1084;&#1073;&#1083;&#1077;&#1088;&#1077; &#1085;&#1072; &#1087;&#1083;&#1072;&#1090;&#1092;&#1086;&#1088;&#1084;&#1077; &#1093;86-64 &mdash; 2011</strong>. &#1042; &#1089;&#1077;&#1075;&#1086;&#1076;&#1085;&#1103;&#1096;&#1085;&#1077;&#1081; &#1079;&#1072;&#1084;&#1077;&#1090;&#1082;&#1077; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1091;&#1077;&#1084; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1091; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1072;&#1103; &#1088;&#1072;&#1089;&#1089;&#1084;&#1086;&#1090;&#1088;&#1077;&#1085;&#1072; &#1074; &#1088;&#1072;&#1079;&#1076;&#1077;&#1083;&#1077; &#1082;&#1085;&#1080;&#1075;&#1080; <strong>2.2. &#1055;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077;</strong>.</p>
<h2>&#1063;&#1090;&#1086; &#1090;&#1072;&#1082;&#1086;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077;</h2>
<p>&#1055;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &mdash; &#1101;&#1090;&#1086; &#1084;&#1077;&#1093;&#1072;&#1085;&#1080;&#1079;&#1084;, &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1075;&#1086; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1072; (&#1074;&#1077;&#1088;&#1086;&#1103;&#1090;&#1085;&#1077;&#1077; &#1074;&#1089;&#1077;&#1075;&#1086; &mdash; &#1086;&#1087;&#1077;&#1088;&#1072;&#1094;&#1080;&#1086;&#1085;&#1085;&#1072;&#1103; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1072;), &#1082;&#1086;&#1090;&#1086;&#1088;&#1091;&#1102; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1090; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;, &#1084;&#1086;&#1078;&#1077;&#1090; &#1088;&#1077;&#1072;&#1075;&#1080;&#1088;&#1086;&#1074;&#1072;&#1090;&#1100; &#1085;&#1072; &#1088;&#1072;&#1079;&#1083;&#1080;&#1095;&#1085;&#1099;&#1077; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103;. &#1057;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103; &#1073;&#1099;&#1074;&#1072;&#1102;&#1090; &#1076;&#1074;&#1091;&#1093; &#1074;&#1080;&#1076;&#1086;&#1074;:</p>
<ul>
<li><strong>&#1040;&#1087;&#1087;&#1072;&#1088;&#1072;&#1090;&#1085;&#1099;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;</strong>, &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1093; &#1087;&#1077;&#1088;&#1080;&#1092;&#1077;&#1088;&#1080;&#1081;&#1085;&#1099;&#1077; &#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; &#1089;&#1080;&#1075;&#1085;&#1072;&#1083;&#1080;&#1079;&#1080;&#1088;&#1091;&#1102;&#1090; &#1086; &#1095;&#1077;&#1084;-&#1090;&#1086; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;&#1091;.</li>
<li><strong>&#1048;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;</strong> &mdash; &#1086;&#1096;&#1080;&#1073;&#1086;&#1095;&#1085;&#1099;&#1077; &#1089;&#1080;&#1090;&#1091;&#1072;&#1094;&#1080;&#1080; &#1074;&#1088;&#1086;&#1076;&#1077; &#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1103; &#1085;&#1072; 0 &#1080;&#1083;&#1080; &#1085;&#1072;&#1088;&#1091;&#1096;&#1077;&#1085;&#1080;&#1103; &#1087;&#1088;&#1072;&#1074; &#1076;&#1086;&#1089;&#1090;&#1091;&#1087;&#1072; &#1082; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080;.</li>
</ul>
<p>&#1050;&#1072;&#1082; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1089;&#1083;&#1091;&#1095;&#1072;&#1077;&#1090;&#1089;&#1103; &#1090;&#1072;&#1082;&#1086;&#1077; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1077;, &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1077;&#1090; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1077; &#1086;&#1089;&#1085;&#1086;&#1074;&#1085;&#1086;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099; &#1080; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1090; &#1082; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1077; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103;, &#1090;. &#1077;. &#1088;&#1077;&#1072;&#1075;&#1080;&#1088;&#1091;&#1077;&#1090; &#1085;&#1072; &#1101;&#1090;&#1086; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1077;, &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1103; &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1085;&#1091;&#1102; &#1087;&#1088;&#1086;&#1094;&#1077;&#1076;&#1091;&#1088;&#1091;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1072;&#1103; &#1085;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; <em>&#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1086;&#1084; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;</em>. &#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077;, &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1090;&#1089;&#1103; &#1082; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1102; &#1086;&#1089;&#1085;&#1086;&#1074;&#1085;&#1086;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099; &#1089; &#1090;&#1086;&#1075;&#1086; &#1084;&#1077;&#1089;&#1090;&#1072;, &#1075;&#1076;&#1077; &#1086;&#1085;&#1072; &#1073;&#1099;&#1083;&#1072; &#1087;&#1088;&#1077;&#1088;&#1074;&#1072;&#1085;&#1072;.</p>
<p>&#1042;&#1089;&#1077;&#1075;&#1086; &#1084;&#1086;&#1078;&#1077;&#1090; &#1089;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1086;&#1074;&#1072;&#1090;&#1100; &#1076;&#1086; 256 &#1088;&#1072;&#1079;&#1083;&#1080;&#1095;&#1085;&#1099;&#1093; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;. &#1054;&#1085;&#1080; &#1087;&#1088;&#1086;&#1085;&#1091;&#1084;&#1077;&#1088;&#1086;&#1074;&#1072;&#1085;&#1099; &#1086;&#1090; 0 &#1076;&#1086; 255 &#1080; &#1076;&#1083;&#1103; &#1082;&#1072;&#1078;&#1076;&#1086;&#1075;&#1086;, &#1074;&#1086;&#1086;&#1073;&#1097;&#1077; &#1075;&#1086;&#1074;&#1086;&#1088;&#1103;, &#1076;&#1086;&#1083;&#1078;&#1077;&#1085; &#1089;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1086;&#1074;&#1072;&#1090;&#1100; &#1089;&#1074;&#1086;&#1081; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;. &#1055;&#1086;&#1083;&#1085;&#1099;&#1081; &#1089;&#1087;&#1080;&#1089;&#1086;&#1082; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1089;&#1084;&#1086;&#1090;&#1088;&#1080;&#1090;&#1077; &#1074; &#1088;&#1072;&#1079;&#1076;&#1077;&#1083;&#1077; <strong>6.3.1 External Interrupts</strong> &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1072; <strong>Intel 64 and IA-32 Architectures Software Developer&rsquo;s Manual &mdash; Volume 3. System Programming Guide</strong>.</p>
<h2>&#1055;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1099;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;</h2>
<p>&#1047;&#1072;&#1084;&#1077;&#1090;&#1080;&#1084;, &#1095;&#1090;&#1086; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1083;&#1102;&#1073;&#1086;&#1075;&#1086; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1084;&#1086;&#1078;&#1077;&#1090; &#1073;&#1099;&#1090;&#1100; &#1074;&#1099;&#1079;&#1074;&#1072;&#1085; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1086; &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1099; <strong>int n</strong> (&#1075;&#1076;&#1077; n &mdash; &#1085;&#1086;&#1084;&#1077;&#1088; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;), &#1095;&#1090;&#1086; &#1072;&#1085;&#1072;&#1083;&#1086;&#1075;&#1080;&#1095;&#1085;&#1086; &#1074;&#1099;&#1079;&#1086;&#1074;&#1091; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1086;&#1081; call. &#1054;&#1076;&#1085;&#1072;&#1082;&#1086; &#1085;&#1077;&#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1090;&#1100; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1086; &#1085;&#1077; &#1089;&#1090;&#1086;&#1080;&#1090;, &#1090;&#1072;&#1082; &#1082;&#1072;&#1082; &#1101;&#1090;&#1086; &#1085;&#1077;&#1087;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1086; &#1087;&#1088;&#1080;&#1074;&#1077;&#1076;&#1077;&#1090; &#1082; &#1072;&#1074;&#1072;&#1088;&#1080;&#1080;. &#1050; &#1090;&#1072;&#1082;&#1080;&#1084; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;&#1084; &#1086;&#1090;&#1085;&#1086;&#1089;&#1103;&#1090;&#1089;&#1103; &#1090;&#1077; <em>&#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103;</em>, &#1087;&#1088;&#1080; &#1074;&#1086;&#1079;&#1085;&#1080;&#1082;&#1085;&#1086;&#1074;&#1077;&#1085;&#1080;&#1080; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1093; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1087;&#1086;&#1084;&#1077;&#1097;&#1072;&#1077;&#1090; &#1074; &#1089;&#1090;&#1077;&#1082; &#1090;. &#1085;. &#1082;&#1086;&#1076; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080; &mdash; &#1076;&#1086;&#1087;&#1086;&#1083;&#1085;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1072;&#1103; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1103; &#1086; &#1087;&#1088;&#1086;&#1080;&#1079;&#1086;&#1096;&#1077;&#1076;&#1096;&#1077;&#1084; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1080;. &#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072; <strong>int</strong> &#1085;&#1077; &#1087;&#1086;&#1084;&#1077;&#1097;&#1072;&#1077;&#1090; &#1074; &#1089;&#1090;&#1077;&#1082; &#1082;&#1086;&#1076; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080;, &#1085;&#1086; &laquo;&#1085;&#1080;&#1095;&#1077;&#1075;&#1086; &#1085;&#1077; &#1087;&#1086;&#1076;&#1086;&#1079;&#1088;&#1077;&#1074;&#1072;&#1102;&#1097;&#1080;&#1081;&raquo; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1086;&#1078;&#1080;&#1076;&#1072;&#1077;&#1090;, &#1095;&#1090;&#1086; &#1082;&#1086;&#1076; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080; &#1073;&#1091;&#1076;&#1077;&#1090; &#1074; &#1089;&#1090;&#1077;&#1082;&#1077; &mdash; &#1087;&#1086;&#1101;&#1090;&#1086;&#1084;&#1091; &#1080; &#1087;&#1088;&#1086;&#1080;&#1079;&#1086;&#1081;&#1076;&#1077;&#1090; &#1072;&#1074;&#1072;&#1088;&#1080;&#1103;.</p>
<p>&#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1091; <strong>int n</strong> &#1084;&#1086;&#1075;&#1091;&#1090; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1103;&#1090;&#1100; &#1082;&#1072;&#1082; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099;, &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1102;&#1097;&#1080;&#1077; &#1074; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077; &#1103;&#1076;&#1088;&#1072; (&#1085;&#1072;&#1080;&#1073;&#1086;&#1083;&#1077;&#1077; &#1087;&#1088;&#1080;&#1074;&#1080;&#1083;&#1077;&#1075;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1085;&#1086;&#1084;), &#1090;&#1072;&#1082; &#1080; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099;, &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1102;&#1097;&#1080;&#1077; &#1074; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100;&#1089;&#1082;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077; (&#1085;&#1072;&#1080;&#1084;&#1077;&#1085;&#1077;&#1077; &#1087;&#1088;&#1080;&#1074;&#1080;&#1083;&#1077;&#1075;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1085;&#1086;&#1084;). &#1044;&#1083;&#1103; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100;&#1089;&#1082;&#1080;&#1093; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084; &#1074;&#1099;&#1079;&#1086;&#1074; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1086;&#1075;&#1086; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &mdash; &#1101;&#1090;&#1086; &#1089;&#1087;&#1086;&#1089;&#1086;&#1073; &#1074;&#1086;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; &#1091;&#1089;&#1083;&#1091;&#1075;&#1072;&#1084;&#1080; &#1086;&#1087;&#1077;&#1088;&#1072;&#1094;&#1080;&#1086;&#1085;&#1085;&#1086;&#1081; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1099; &mdash; &#1090;. &#1085;. <em>&#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1085;&#1099;&#1084;&#1080; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072;&#1084;&#1080;</em>. &#1055;&#1086;&#1076;&#1088;&#1086;&#1073;&#1085;&#1077;&#1077; &#1086; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1085;&#1099;&#1093; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072;&#1093; &#1095;&#1080;&#1090;&#1072;&#1081;&#1090;&#1077; &#1090;&#1091;&#1090;: <a href="https://en.wikipedia.org/wiki/System_call">Wikipedia &mdash; System call</a>.</p>
<p>&#1055;&#1088;&#1080; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1086;&#1084; &#1074;&#1099;&#1079;&#1086;&#1074;&#1077; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1087;&#1088;&#1086;&#1074;&#1077;&#1088;&#1103;&#1077;&#1090;, &#1086;&#1073;&#1083;&#1072;&#1076;&#1072;&#1077;&#1090; &#1083;&#1080; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1102;&#1097;&#1080;&#1081; &#1082;&#1086;&#1076; &#1076;&#1086;&#1089;&#1090;&#1072;&#1090;&#1086;&#1095;&#1085;&#1099;&#1084; &#1091;&#1088;&#1086;&#1074;&#1085;&#1077;&#1084; &#1087;&#1088;&#1080;&#1074;&#1080;&#1083;&#1077;&#1075;&#1080;&#1081; &#1076;&#1083;&#1103; &#1086;&#1089;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1083;&#1077;&#1085;&#1080;&#1103; &#1090;&#1072;&#1082;&#1086;&#1075;&#1086; &#1074;&#1099;&#1079;&#1086;&#1074;&#1072;. &#1050;&#1072;&#1082;&#1086;&#1074; &#1101;&#1090;&#1086;&#1090; &#1076;&#1086;&#1089;&#1090;&#1072;&#1090;&#1086;&#1095;&#1085;&#1099;&#1081; &#1091;&#1088;&#1086;&#1074;&#1077;&#1085;&#1100; &#1087;&#1088;&#1080;&#1074;&#1080;&#1083;&#1077;&#1075;&#1080;&#1081;, &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1103;&#1077;&#1090; &#1087;&#1086;&#1083;&#1077; DPL &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1072; &#1096;&#1083;&#1102;&#1079;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; (&#1086;&#1073; &#1101;&#1090;&#1086;&#1084; &#1089;&#1084;. &#1085;&#1080;&#1078;&#1077;). &#1045;&#1089;&#1083;&#1080; &#1091;&#1088;&#1086;&#1074;&#1077;&#1085;&#1100; &#1087;&#1088;&#1080;&#1074;&#1080;&#1083;&#1077;&#1075;&#1080;&#1081; &#1091; &#1074;&#1099;&#1079;&#1099;&#1074;&#1072;&#1102;&#1097;&#1077;&#1075;&#1086; &#1082;&#1086;&#1076;&#1072; &#1085;&#1077;&#1076;&#1086;&#1089;&#1090;&#1072;&#1090;&#1086;&#1095;&#1077;&#1085;, &#1090;&#1086; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1075;&#1077;&#1085;&#1077;&#1088;&#1080;&#1088;&#1091;&#1077;&#1090; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077; General Protection Fault. &#1050; &#1087;&#1088;&#1080;&#1084;&#1077;&#1088;&#1091;, &#1076;&#1083;&#1103; &#1090;&#1086;&#1075;&#1086;, &#1095;&#1090;&#1086;&#1073;&#1099; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100;&#1089;&#1082;&#1080;&#1081; &#1082;&#1086;&#1076; &#1084;&#1086;&#1075; &#1074;&#1099;&#1079;&#1074;&#1072;&#1090;&#1100; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1086;, &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088; &#1096;&#1083;&#1102;&#1079;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1076;&#1086;&#1083;&#1078;&#1077;&#1085; &#1080;&#1084;&#1077;&#1090;&#1100; &#1087;&#1086;&#1083;&#1077; DPL=3.</p>
<p>&#1057;&#1088;&#1077;&#1076;&#1080; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1099;&#1093; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072; <strong>int 3</strong> &#1079;&#1072;&#1085;&#1080;&#1084;&#1072;&#1077;&#1090; &#1086;&#1089;&#1086;&#1073;&#1086;&#1077; &#1084;&#1077;&#1089;&#1090;&#1086; &#1080; &#1080;&#1084;&#1077;&#1077;&#1090; &#1082;&#1086;&#1088;&#1086;&#1090;&#1082;&#1080;&#1081; &#1086;&#1087;&#1082;&#1086;&#1076; 0x&#1057;&#1057;. &#1069;&#1090;&#1072; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1086;&#1090;&#1083;&#1072;&#1076;&#1095;&#1080;&#1082;&#1072;&#1084;&#1080; &#1076;&#1083;&#1103; &#1088;&#1077;&#1072;&#1083;&#1080;&#1079;&#1072;&#1094;&#1080;&#1080; &#1090;&#1086;&#1095;&#1077;&#1082; &#1086;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1072;. &#1055;&#1086;&#1076;&#1088;&#1086;&#1073;&#1085;&#1077;&#1077; &#1086;&#1073; &#1086;&#1090;&#1083;&#1072;&#1076;&#1082;&#1077; &#1095;&#1080;&#1090;&#1072;&#1081;&#1090;&#1077; &#1074; &#1089;&#1090;&#1072;&#1090;&#1100;&#1077; <a href="https://habrahabr.ru/post/39771/">&#1061;&#1072;&#1073;&#1088;&#1072;&#1093;&#1072;&#1073;&#1088; &mdash; &#1055;&#1088;&#1086; &#1073;&#1088;&#1077;&#1081;&#1082;&#1087;&#1086;&#1081;&#1085;&#1090;&#1099;</a>.</p>
<h2>&#1050;&#1072;&#1082;&#1080;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1084; &#1086;&#1073;&#1088;&#1072;&#1073;&#1072;&#1090;&#1099;&#1074;&#1072;&#1090;&#1100;</h2>
<p>&#1057;&#1072;&#1084;&#1099;&#1081; &#1085;&#1072;&#1075;&#1083;&#1103;&#1076;&#1085;&#1099;&#1081; &#1087;&#1088;&#1080;&#1084;&#1077;&#1088; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1080; &#1072;&#1087;&#1087;&#1072;&#1088;&#1072;&#1090;&#1085;&#1099;&#1093; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &mdash; &#1101;&#1090;&#1086; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1086;&#1090; &#1082;&#1083;&#1072;&#1074;&#1080;&#1072;&#1090;&#1091;&#1088;&#1099;. &#1050;&#1086;&#1075;&#1076;&#1072; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100; &#1085;&#1072;&#1078;&#1080;&#1084;&#1072;&#1077;&#1090; &#1080;&#1083;&#1080; &#1086;&#1090;&#1087;&#1091;&#1089;&#1082;&#1072;&#1077;&#1090; &#1082;&#1083;&#1072;&#1074;&#1080;&#1096;&#1091; &#1085;&#1072; &#1082;&#1083;&#1072;&#1074;&#1080;&#1072;&#1090;&#1091;&#1088;&#1077;, &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088; &#1082;&#1083;&#1072;&#1074;&#1080;&#1072;&#1090;&#1091;&#1088;&#1099; &#1075;&#1077;&#1085;&#1077;&#1088;&#1080;&#1088;&#1091;&#1077;&#1090; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089; &#1085;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077;. &#1041;&#1083;&#1072;&#1075;&#1086;&#1076;&#1072;&#1088;&#1103; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1077; &#1101;&#1090;&#1086;&#1075;&#1086; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100; &#1089;&#1084;&#1086;&#1078;&#1077;&#1090; &#1093;&#1086;&#1090;&#1103; &#1073;&#1099; &#1085;&#1072; &#1084;&#1080;&#1085;&#1080;&#1084;&#1072;&#1083;&#1100;&#1085;&#1086;&#1084; &#1091;&#1088;&#1086;&#1074;&#1085;&#1077; &#1074;&#1079;&#1072;&#1080;&#1084;&#1086;&#1076;&#1077;&#1081;&#1089;&#1090;&#1074;&#1086;&#1074;&#1072;&#1090;&#1100; &#1089; &#1085;&#1072;&#1096;&#1077;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1086;&#1081;. &#1050;&#1088;&#1086;&#1084;&#1077; &#1090;&#1086;&#1075;&#1086;, &#1074; &#1089;&#1077;&#1075;&#1086;&#1076;&#1085;&#1103;&#1096;&#1085;&#1077;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1077; &#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1084; &#1086;&#1073;&#1088;&#1072;&#1073;&#1072;&#1090;&#1099;&#1074;&#1072;&#1090;&#1100; &#1077;&#1097;&#1077; &#1086;&#1076;&#1085;&#1086; &#1072;&#1087;&#1087;&#1072;&#1088;&#1072;&#1090;&#1085;&#1086;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077; &mdash; &#1086;&#1090; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1085;&#1086;&#1075;&#1086; &#1090;&#1072;&#1081;&#1084;&#1077;&#1088;&#1072;. &#1054;&#1089;&#1090;&#1072;&#1083;&#1100;&#1085;&#1099;&#1077; &#1072;&#1087;&#1087;&#1072;&#1088;&#1072;&#1090;&#1085;&#1099;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; (IRQ &mdash; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1086;&#1090; &#1087;&#1077;&#1088;&#1080;&#1092;&#1077;&#1088;&#1080;&#1081;&#1085;&#1099;&#1093; &#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;) &#1090;&#1086;&#1078;&#1077; &#1073;&#1091;&#1076;&#1091;&#1090; &#1080;&#1084;&#1077;&#1090;&#1100; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1080;, &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1101;&#1090;&#1080; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1080; &#1085;&#1077; &#1073;&#1091;&#1076;&#1091;&#1090; &#1085;&#1080;&#1095;&#1077;&#1075;&#1086; &#1076;&#1077;&#1083;&#1072;&#1090;&#1100;, &#1072; &#1073;&#1091;&#1076;&#1091;&#1090; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1090;&#1100; &#1091;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; &#1087;&#1088;&#1077;&#1088;&#1074;&#1072;&#1085;&#1085;&#1086;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1077;. &#1052;&#1099; &#1090;&#1072;&#1082;&#1078;&#1077; &#1073;&#1091;&#1076;&#1077;&#1084; &#1086;&#1073;&#1088;&#1072;&#1073;&#1072;&#1090;&#1099;&#1074;&#1072;&#1090;&#1100; &#1086;&#1076;&#1085;&#1086; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077; &mdash; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077; &#1086;&#1073;&#1097;&#1077;&#1081; &#1079;&#1072;&#1097;&#1080;&#1090;&#1099; (General Protection Fault). &#1054;&#1089;&#1090;&#1072;&#1083;&#1100;&#1085;&#1099;&#1077; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1085;&#1077; &#1073;&#1091;&#1076;&#1091;&#1090; &#1080;&#1084;&#1077;&#1090;&#1100; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1086;&#1074;, &#1087;&#1086;&#1101;&#1090;&#1086;&#1084;&#1091; &#1087;&#1088;&#1080; &#1074;&#1086;&#1079;&#1085;&#1080;&#1082;&#1085;&#1086;&#1074;&#1077;&#1085;&#1080;&#1080; &#1090;&#1072;&#1082;&#1080;&#1093; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1081; &#1073;&#1091;&#1076;&#1077;&#1090; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090;&#1100; Triple Fault (&#1072;&#1074;&#1072;&#1088;&#1080;&#1103; &#1080; &#1087;&#1077;&#1088;&#1077;&#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;&#1072;).</p>
<h2>&#1054;&#1090;&#1082;&#1091;&#1076;&#1072; &#1073;&#1077;&#1088;&#1091;&#1090;&#1089;&#1103; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1080; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;</h2>
<p>&#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1080; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &mdash; &#1101;&#1090;&#1086; &#1087;&#1088;&#1072;&#1082;&#1090;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080; &#1086;&#1073;&#1099;&#1095;&#1085;&#1099;&#1077; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080;. &#1054;&#1085;&#1080; &#1085;&#1072;&#1093;&#1086;&#1076;&#1103;&#1090;&#1089;&#1103; &#1074; &#1086;&#1087;&#1077;&#1088;&#1072;&#1090;&#1080;&#1074;&#1085;&#1086;&#1081; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080;. &#1050;&#1072;&#1082; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1076;&#1083;&#1103; &#1082;&#1072;&#1078;&#1076;&#1086;&#1075;&#1086; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;?<br>
&#1042; &#1088;&#1077;&#1072;&#1083;&#1100;&#1085;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;&#1072; &#1074; &#1089;&#1072;&#1084;&#1086;&#1084; &#1085;&#1072;&#1095;&#1072;&#1083;&#1077; &#1086;&#1087;&#1077;&#1088;&#1072;&#1090;&#1080;&#1074;&#1085;&#1086;&#1081; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080; &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1090;. &#1085;. <em>&#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1072; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1086;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;</em>, &#1082;&#1086;&#1090;&#1086;&#1088;&#1072;&#1103; &#1087;&#1088;&#1077;&#1076;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1077;&#1090; &#1089;&#1086;&#1073;&#1086;&#1081; &#1084;&#1072;&#1089;&#1089;&#1080;&#1074; &#1080;&#1079; 256-&#1090;&#1080; 32-&#1088;&#1072;&#1079;&#1088;&#1103;&#1076;&#1085;&#1099;&#1093; &#1095;&#1080;&#1089;&#1077;&#1083;. &#1050;&#1072;&#1078;&#1076;&#1086;&#1077; &#1095;&#1080;&#1089;&#1083;&#1086; &mdash; &#1101;&#1090;&#1086; &#1087;&#1072;&#1088;&#1072; 16-&#1088;&#1072;&#1079;&#1088;&#1103;&#1076;&#1085;&#1099;&#1093; &#1095;&#1080;&#1089;&#1077;&#1083; <em>&#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;:&#1089;&#1084;&#1077;&#1097;&#1077;&#1085;&#1080;&#1077;</em>, &#1082;&#1086;&#1090;&#1086;&#1088;&#1072;&#1103; &#1080; &#1103;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; &#1072;&#1076;&#1088;&#1077;&#1089;&#1086;&#1084; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1074; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080;. &#1053;&#1086;&#1084;&#1077;&#1088; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1103;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; &#1085;&#1086;&#1084;&#1077;&#1088;&#1086;&#1084; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1074; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1077; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1086;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;.<br>
&#1042; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077; &#1074;&#1089;&#1077; &#1089;&#1083;&#1086;&#1078;&#1085;&#1077;&#1077;, &#1085;&#1086; &#1085;&#1077; &#1085;&#1072;&#1084;&#1085;&#1086;&#1075;&#1086;. &#1042; &#1086;&#1087;&#1077;&#1088;&#1072;&#1090;&#1080;&#1074;&#1085;&#1086;&#1081; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080; &#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1089;&#1103; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1072; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1086;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &mdash; <strong>Interrupt Descriptor Table (IDT)</strong>, &#1082;&#1086;&#1090;&#1086;&#1088;&#1072;&#1103; &#1087;&#1088;&#1077;&#1076;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1077;&#1090; &#1089;&#1086;&#1073;&#1086;&#1081; &#1084;&#1072;&#1089;&#1089;&#1080;&#1074; 64-&#1088;&#1072;&#1079;&#1088;&#1103;&#1076;&#1085;&#1099;&#1093; &#1095;&#1080;&#1089;&#1077;&#1083; &mdash; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1086;&#1074; &#1096;&#1083;&#1102;&#1079;&#1086;&#1074;. &#1044;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088; &#1096;&#1083;&#1102;&#1079;&#1072; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090; &#1089;&#1077;&#1083;&#1077;&#1082;&#1090;&#1086;&#1088; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1072; &#1082;&#1086;&#1076;&#1072;, &#1074; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1084; &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1080; &#1072;&#1076;&#1088;&#1077;&#1089; (&#1089;&#1084;&#1077;&#1097;&#1077;&#1085;&#1080;&#1077;) &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1074; &#1101;&#1090;&#1086;&#1084; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1077; (&#1090;. &#1077;. &#1090;&#1091; &#1078;&#1077; &#1080;&#1085;&#1092;&#1086;&#1088;&#1084;&#1072;&#1094;&#1080;&#1102;, &#1095;&#1090;&#1086; &#1080; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1074; &#1088;&#1077;&#1072;&#1083;&#1100;&#1085;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077;). &#1055;&#1077;&#1088;&#1077;&#1076; &#1090;&#1077;&#1084; &#1082;&#1072;&#1082; &#1088;&#1072;&#1079;&#1088;&#1077;&#1096;&#1080;&#1090;&#1100; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;, &#1085;&#1077;&#1086;&#1073;&#1093;&#1086;&#1076;&#1080;&#1084;&#1086; &#1072;&#1076;&#1088;&#1077;&#1089; &#1080; &#1088;&#1072;&#1079;&#1084;&#1077;&#1088; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1099; IDT &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1080;&#1090;&#1100; &#1074; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088; <strong>IDTR</strong> &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1099; <strong>lidt</strong> (&#1072;&#1085;&#1072;&#1083;&#1086;&#1075;&#1080;&#1095;&#1085;&#1086; &#1090;&#1086;&#1084;&#1091;, &#1082;&#1072;&#1082; &#1084;&#1099; &#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1083;&#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1080; &#1083;&#1080;&#1084;&#1080;&#1090; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1099; GDT, &#1082;&#1086;&#1075;&#1076;&#1072; <a href="http://localhost/study-intel-part3/">&#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1083;&#1080; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1099;&#1081; &#1088;&#1077;&#1078;&#1080;&#1084;</a>).</p>
<h2>&#1058;&#1080;&#1087;&#1099; &#1096;&#1083;&#1102;&#1079;&#1086;&#1074; &#1074; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1077; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1086;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;</h2>
<p>&#1042; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1077; IDT &#1084;&#1086;&#1075;&#1091;&#1090; &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1100;&#1089;&#1103; &#1096;&#1083;&#1102;&#1079;&#1099; &#1090;&#1088;&#1077;&#1093; &#1088;&#1072;&#1079;&#1085;&#1099;&#1093; &#1090;&#1080;&#1087;&#1086;&#1074; (&#1096;&#1083;&#1102;&#1079; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;, &#1096;&#1083;&#1102;&#1079; &#1083;&#1086;&#1074;&#1091;&#1096;&#1082;&#1080; &#1080; &#1096;&#1083;&#1102;&#1079; &#1079;&#1072;&#1076;&#1072;&#1095;&#1080;), &#1085;&#1086; &#1103; &#1074; &#1101;&#1090;&#1086;&#1081; &#1079;&#1072;&#1084;&#1077;&#1090;&#1082;&#1077; &#1073;&#1091;&#1076;&#1091; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1086;&#1076;&#1080;&#1085; &#1080;&#1079; &#1085;&#1080;&#1093; &mdash; &#1096;&#1083;&#1102;&#1079; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;. &#1064;&#1083;&#1102;&#1079; &#1083;&#1086;&#1074;&#1091;&#1096;&#1082;&#1080; &#1085;&#1080;&#1095;&#1077;&#1084; &#1085;&#1077; &#1086;&#1090;&#1083;&#1080;&#1095;&#1072;&#1077;&#1090;&#1089;&#1103; &#1086;&#1090; &#1096;&#1083;&#1102;&#1079;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;, &#1082;&#1088;&#1086;&#1084;&#1077; &#1086;&#1076;&#1085;&#1086;&#1075;&#1086;: &#1077;&#1089;&#1083;&#1080; &#1074; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1077; IDT &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1096;&#1083;&#1102;&#1079; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;, &#1090;&#1086; &#1087;&#1088;&#1080; &#1074;&#1099;&#1079;&#1086;&#1074;&#1077; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1101;&#1090;&#1086;&#1075;&#1086; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1089;&#1073;&#1088;&#1072;&#1089;&#1099;&#1074;&#1072;&#1077;&#1090; &#1092;&#1083;&#1072;&#1075; &#1088;&#1072;&#1079;&#1088;&#1077;&#1096;&#1077;&#1085;&#1080;&#1103; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; <strong>IF</strong> &#1074; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088;&#1077; <strong>EFLAGS</strong> (&#1079;&#1072;&#1087;&#1088;&#1077;&#1097;&#1072;&#1103; &#1084;&#1072;&#1089;&#1082;&#1080;&#1088;&#1091;&#1077;&#1084;&#1099;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;); &#1077;&#1089;&#1083;&#1080; &#1078;&#1077; &#1074; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1077; &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1096;&#1083;&#1102;&#1079; &#1083;&#1086;&#1074;&#1091;&#1096;&#1082;&#1080;, &#1090;&#1086; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1085;&#1077; &#1089;&#1073;&#1088;&#1072;&#1089;&#1099;&#1074;&#1072;&#1077;&#1090; &#1092;&#1083;&#1072;&#1075; <strong>IF</strong>. &#1040; &#1074;&#1086;&#1090; &#1095;&#1090;&#1086; &#1090;&#1072;&#1082;&#1086;&#1077; &#1096;&#1083;&#1102;&#1079; &#1079;&#1072;&#1076;&#1072;&#1095;&#1080;, &#1103; &#1074;&#1086;&#1086;&#1073;&#1097;&#1077; &#1087;&#1086;&#1082;&#1072; &#1085;&#1077; &#1079;&#1085;&#1072;&#1102;.</p>
<h2>&#1060;&#1086;&#1088;&#1084;&#1072;&#1090; &#1096;&#1083;&#1102;&#1079;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;</h2>
<p>&#1060;&#1086;&#1088;&#1084;&#1072;&#1090; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1086;&#1074; &#1096;&#1083;&#1102;&#1079;&#1086;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;, &#1083;&#1086;&#1074;&#1091;&#1096;&#1077;&#1082; &#1080; &#1079;&#1072;&#1076;&#1072;&#1095; &#1089;&#1084;&#1086;&#1090;&#1088;&#1080;&#1090;&#1077; &#1074; &#1088;&#1072;&#1079;&#1076;&#1077;&#1083;&#1077; <strong>6.11 IDT DESCRIPTORS</strong> &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1072; <strong>Intel 64 and IA-32 Architectures Software Developer&rsquo;s Manual &mdash; Volume 3. System Programming Guide</strong>. &#1047;&#1076;&#1077;&#1089;&#1100; &#1103; &#1093;&#1086;&#1095;&#1091; &#1087;&#1088;&#1080;&#1074;&#1077;&#1089;&#1090;&#1080; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1092;&#1086;&#1088;&#1084;&#1072;&#1090; &#1096;&#1083;&#1102;&#1079;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;.</p>
<table>
<tr>
<th>31</th>
<th>&mdash;</th>
<th>16</th>
<th>15</th>
<th>14</th>
<th>13</th>
<th>12</th>
<th>&mdash;</th>
<th>8</th>
<th>7</th>
<th>&mdash;</th>
<th>5</th>
<th>4</th>
<th>&mdash;</th>
<th>0</th>
<th></th>
</tr>
<tr>
<td colspan="3">Offset[31:16]</td>
<td>P</td>
<td colspan="2">DPL</td>
<td colspan="3">0 D 1 1 0</td>
<td colspan="3">0 0 0</td>
<td colspan="3"></td>
<th>4</th>
</tr>
<tr>
<td colspan="3">Segment Selector</td>
<td colspan="12">Offset[15:0]</td>
<th>0</th>
</tr>
</table>
<p><strong>Segment Selector</strong> &mdash; &#1101;&#1090;&#1086; &#1089;&#1077;&#1083;&#1077;&#1082;&#1090;&#1086;&#1088; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1072; &#1082;&#1086;&#1076;&#1072;, &#1074; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1084; &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;. <strong>Offset</strong> &mdash; &#1101;&#1090;&#1086; &#1089;&#1084;&#1077;&#1097;&#1077;&#1085;&#1080;&#1077; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1086;&#1090;&#1085;&#1086;&#1089;&#1080;&#1090;&#1077;&#1083;&#1100;&#1085;&#1086; &#1073;&#1072;&#1079;&#1086;&#1074;&#1086;&#1075;&#1086; &#1072;&#1076;&#1088;&#1077;&#1089;&#1072; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1072; &#1082;&#1086;&#1076;&#1072;. &#1054; &#1087;&#1086;&#1083;&#1077; <strong>DPL</strong> &#1103; &#1091;&#1078;&#1077; &#1075;&#1086;&#1074;&#1086;&#1088;&#1080;&#1083; &mdash; &#1086;&#1085;&#1086; &#1080;&#1075;&#1088;&#1072;&#1077;&#1090; &#1088;&#1086;&#1083;&#1100; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1087;&#1088;&#1080; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1085;&#1086;&#1084; &#1074;&#1099;&#1079;&#1086;&#1074;&#1077; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1086;&#1081; <strong>int n</strong>. &#1041;&#1080;&#1090; <strong>D</strong> &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1103;&#1077;&#1090; &#1090;. &#1085;. &#1088;&#1072;&#1079;&#1088;&#1103;&#1076;&#1085;&#1086;&#1089;&#1090;&#1100; &#1096;&#1083;&#1102;&#1079;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;. &#1054; &#1088;&#1086;&#1083;&#1080; &#1101;&#1090;&#1086;&#1075;&#1086; &#1073;&#1080;&#1090;&#1072; &#1095;&#1080;&#1090;&#1072;&#1081;&#1090;&#1077; &#1088;&#1072;&#1079;&#1076;&#1077;&#1083; <strong>21.1 DEFINING 16-BIT AND 32-BIT PROGRAM MODULES</strong> &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1072; <strong>Intel 64 and IA-32 Architectures Software Developer&rsquo;s Manual &mdash; Volume 3. System Programming Guide</strong>. &#1071; &#1073;&#1091;&#1076;&#1091; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; 32-&#1088;&#1072;&#1079;&#1088;&#1103;&#1076;&#1085;&#1099;&#1077; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1099; &#1080; &#1096;&#1083;&#1102;&#1079;&#1099;, &#1087;&#1086;&#1101;&#1090;&#1086;&#1084;&#1091; &#1091; &#1084;&#1077;&#1085;&#1103; &#1073;&#1080;&#1090; D &#1074;&#1089;&#1077;&#1075;&#1076;&#1072; &#1073;&#1091;&#1076;&#1077;&#1090; &#1088;&#1072;&#1074;&#1077;&#1085; 1.</p>
<h2>&#1048;&#1089;&#1093;&#1086;&#1076;&#1085;&#1099;&#1081; &#1082;&#1086;&#1076; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099;</h2>
<p>&#1055;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1072; &#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1089;&#1103; &#1074;&#1089;&#1077; &#1073;&#1086;&#1083;&#1100;&#1096;&#1077; &#1080; &#1073;&#1086;&#1083;&#1100;&#1096;&#1077;, &#1084;&#1085;&#1077; &#1087;&#1088;&#1080;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1091;&#1089;&#1083;&#1086;&#1078;&#1085;&#1103;&#1090;&#1100; &#1077;&#1077; &#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1091;&#1088;&#1091; &mdash; &#1088;&#1072;&#1079;&#1073;&#1080;&#1074;&#1072;&#1090;&#1100; &#1080;&#1089;&#1093;&#1086;&#1076;&#1085;&#1099;&#1081; &#1082;&#1086;&#1076; &#1085;&#1072; &#1086;&#1090;&#1076;&#1077;&#1083;&#1100;&#1085;&#1099;&#1077; &#1092;&#1072;&#1081;&#1083;&#1099;. &#1053;&#1080;&#1078;&#1077; &#1089;&#1093;&#1077;&#1084;&#1072;&#1090;&#1080;&#1095;&#1085;&#1086; &#1087;&#1086;&#1082;&#1072;&#1079;&#1072;&#1085;&#1072; &#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1091;&#1088;&#1072; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099; <strong>boot_sector.asm</strong>. &#1069;&#1090;&#1072; &#1095;&#1072;&#1089;&#1090;&#1100; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099; &#1074;&#1088;&#1103;&#1076; &#1083;&#1080; &#1087;&#1086;&#1076;&#1074;&#1077;&#1088;&#1075;&#1085;&#1077;&#1090;&#1089;&#1103; &#1080;&#1079;&#1084;&#1077;&#1085;&#1077;&#1085;&#1080;&#1103;&#1084; &#1074; &#1076;&#1072;&#1083;&#1100;&#1085;&#1077;&#1081;&#1096;&#1077;&#1084;. &#1042;&#1089;&#1105;, &#1095;&#1090;&#1086; &#1084;&#1086;&#1078;&#1077;&#1090; &#1080;&#1079;&#1084;&#1077;&#1085;&#1080;&#1090;&#1100;&#1089;&#1103; &#1074; &#1076;&#1072;&#1083;&#1100;&#1085;&#1077;&#1081;&#1096;&#1077;&#1084;, &#1103; &#1087;&#1086;&#1084;&#1077;&#1089;&#1090;&#1080;&#1083; &#1074; &#1092;&#1072;&#1081;&#1083; <strong>protected_mode.inc</strong>, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1074;&#1082;&#1083;&#1102;&#1095;&#1072;&#1077;&#1090;&#1089;&#1103; &#1076;&#1080;&#1088;&#1077;&#1082;&#1090;&#1080;&#1074;&#1086;&#1081; include &#1074; &#1089;&#1072;&#1084;&#1099;&#1081; &#1082;&#1086;&#1085;&#1077;&#1094; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099;.</p>
<div class="codecolorer-container asm default" style="overflow:auto;white-space:nowrap;"><div class="asm codecolorer"><span class="co1">; boot_sector.asm</span><br>
<span class="co1">; ====== &#1056;&#1045;&#1040;&#1051;&#1068;&#1053;&#1067;&#1049; &#1056;&#1045;&#1046;&#1048;&#1052; ======</span><br>
include <span class="st0">'bios_services.inc'</span> <span class="co1">; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080;-&#1086;&#1073;&#1077;&#1088;&#1090;&#1082;&#1080; &#1074;&#1086;&#1082;&#1088;&#1091;&#1075; &#1089;&#1077;&#1088;&#1074;&#1080;&#1089;&#1086;&#1074; BIOS</span><br>
<span class="co1">; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1072; &#1089;&#1077;&#1082;&#1090;&#1086;&#1088;&#1086;&#1074; &#1089; &#1076;&#1080;&#1089;&#1082;&#1077;&#1090;&#1099; (bootloader)</span><br>
<span class="co1">; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1099;&#1081; &#1088;&#1077;&#1078;&#1080;&#1084;</span><br>
<span class="co1">; ===== &#1047;&#1040;&#1065;&#1048;&#1065;&#1045;&#1053;&#1053;&#1067;&#1049; &#1056;&#1045;&#1046;&#1048;&#1052; =====</span><br>
include <span class="st0">'descriptor_macros.inc'</span> <span class="co1">; &#1084;&#1072;&#1082;&#1088;&#1086;&#1089;&#1099; &#1076;&#1083;&#1103; &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1103; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1086;&#1074; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074; &#1080; &#1096;&#1083;&#1102;&#1079;&#1086;&#1074;</span><br>
<span class="co1">; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1072; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1086;&#1074; (Global Descriptor Table)</span><br>
include <span class="st0">'protected_mode.inc'</span> <span class="co1">; &#1092;&#1072;&#1081;&#1083;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090; &#1086;&#1089;&#1090;&#1072;&#1083;&#1100;&#1085;&#1086;&#1081; &#1082;&#1086;&#1076; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1086;&#1075;&#1086; &#1088;&#1077;&#1078;&#1080;&#1084;&#1072;</span></div></div>
<p>&#1060;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080; BIOS, &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1091; &#1089;&#1077;&#1082;&#1090;&#1086;&#1088;&#1086;&#1074; &#1089; &#1076;&#1080;&#1089;&#1082;&#1072;, &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1099;&#1081; &#1088;&#1077;&#1078;&#1080;&#1084; &#1080; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1091; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1086;&#1074; &#1084;&#1099; &#1091;&#1078;&#1077; &#1088;&#1072;&#1089;&#1089;&#1084;&#1086;&#1090;&#1088;&#1077;&#1083;&#1080; &#1074; &#1087;&#1088;&#1077;&#1076;&#1099;&#1076;&#1091;&#1097;&#1080;&#1093; &#1079;&#1072;&#1084;&#1077;&#1090;&#1082;&#1072;&#1093;:</p>
<ul>
<li><a href="http://localhost/study-intel-part3/">&#1055;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1099;&#1081; &#1088;&#1077;&#1078;&#1080;&#1084;</a></li>
<li><a href="http://localhost/study-intel-part4/">&#1047;&#1072;&#1075;&#1088;&#1091;&#1079;&#1095;&#1080;&#1082;</a></li>
</ul>
<p>&#1042; &#1085;&#1099;&#1085;&#1077;&#1096;&#1085;&#1077;&#1084; &#1092;&#1072;&#1081;&#1083;&#1077; <strong>boot_sector.asm</strong> &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1082;&#1072;&#1082; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1095;&#1080;&#1082;, &#1090;&#1072;&#1082; &#1080; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1099;&#1081; &#1088;&#1077;&#1078;&#1080;&#1084;, &#1090;&#1072;&#1082; &#1095;&#1090;&#1086; &#1101;&#1090;&#1086;&#1090; &#1092;&#1072;&#1081;&#1083; &#1087;&#1086; &#1089;&#1091;&#1090;&#1080; &#1103;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; &#1082;&#1086;&#1084;&#1073;&#1080;&#1085;&#1072;&#1094;&#1080;&#1077;&#1081; &#1086;&#1076;&#1085;&#1086;&#1080;&#1084;&#1077;&#1085;&#1085;&#1099;&#1093; &#1092;&#1072;&#1081;&#1083;&#1086;&#1074; &#1080;&#1079; &#1076;&#1074;&#1091;&#1093; &#1091;&#1087;&#1086;&#1084;&#1103;&#1085;&#1091;&#1090;&#1099;&#1093; &#1074;&#1099;&#1096;&#1077; &#1079;&#1072;&#1084;&#1077;&#1090;&#1086;&#1082;. &#1055;&#1083;&#1102;&#1089; &#1103; &#1076;&#1086;&#1073;&#1072;&#1074;&#1080;&#1083; &#1074; &#1085;&#1077;&#1075;&#1086; &#1085;&#1077;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1086; &#1084;&#1077;&#1083;&#1082;&#1080;&#1093; &#1085;&#1086;&#1074;&#1096;&#1077;&#1089;&#1090;&#1074;:</p>
<ul>
<li>
&#1050;&#1086;&#1083;&#1080;&#1095;&#1077;&#1089;&#1090;&#1074;&#1086; &#1089;&#1077;&#1082;&#1090;&#1086;&#1088;&#1086;&#1074; &#1076;&#1083;&#1103; &#1079;&#1072;&#1075;&#1088;&#1091;&#1079;&#1082;&#1080; &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080; <strong>BIOS_LoadSectorsSmart</strong> &#1074;&#1099;&#1095;&#1080;&#1089;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; &#1082;&#1086;&#1084;&#1087;&#1080;&#1083;&#1103;&#1090;&#1086;&#1088;&#1086;&#1084; &#1087;&#1091;&#1090;&#1077;&#1084; &#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1103; &#1088;&#1072;&#1079;&#1084;&#1077;&#1088;&#1072; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099; &#1085;&#1072; 512 (512 &#1073;&#1072;&#1081;&#1090; &mdash; &#1101;&#1090;&#1086; &#1088;&#1072;&#1079;&#1084;&#1077;&#1088; &#1086;&#1076;&#1085;&#1086;&#1075;&#1086; &#1089;&#1077;&#1082;&#1090;&#1086;&#1088;&#1072;). &#1056;&#1072;&#1079;&#1084;&#1077;&#1088; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099; &#1074;&#1099;&#1095;&#1080;&#1089;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; &#1082;&#1072;&#1082; &#1088;&#1072;&#1079;&#1085;&#1086;&#1089;&#1090;&#1100; &#1072;&#1076;&#1088;&#1077;&#1089;&#1086;&#1074;, &#1085;&#1072; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1089;&#1089;&#1099;&#1083;&#1072;&#1102;&#1090;&#1089;&#1103; &#1084;&#1077;&#1090;&#1082;&#1080; start &#1080; finish, &#1088;&#1072;&#1089;&#1087;&#1086;&#1083;&#1086;&#1078;&#1077;&#1085;&#1085;&#1099;&#1077; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1077;&#1085;&#1085;&#1086; &#1074; &#1085;&#1072;&#1095;&#1072;&#1083;&#1077; &#1080; &#1074; &#1082;&#1086;&#1085;&#1094;&#1077; &#1092;&#1072;&#1081;&#1083;&#1072; boot_sector.asm.
</li>
<li>
&#1052;&#1072;&#1082;&#1088;&#1086;&#1089; &#1076;&#1083;&#1103; &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1103; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1072; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1072; <strong>SEGMENT_DESCRIPTOR</strong>, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1091;&#1087;&#1086;&#1084;&#1080;&#1085;&#1072;&#1083;&#1089;&#1103; &#1074; &#1079;&#1072;&#1084;&#1077;&#1090;&#1082;&#1077; &#1087;&#1088;&#1086; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1099;&#1081; &#1088;&#1077;&#1078;&#1080;&#1084;, &#1103; &#1087;&#1086;&#1084;&#1077;&#1089;&#1090;&#1080;&#1083; &#1074; &#1092;&#1072;&#1081;&#1083; <strong>descriptor_macros.inc</strong>. &#1042; &#1101;&#1090;&#1086;&#1084; &#1078;&#1077; &#1092;&#1072;&#1081;&#1083;&#1077; &#1085;&#1072;&#1093;&#1086;&#1076;&#1103;&#1090;&#1089;&#1103; &#1084;&#1072;&#1082;&#1088;&#1086;&#1089;&#1099; &#1076;&#1083;&#1103; &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1103; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1086;&#1074; &#1096;&#1083;&#1102;&#1079;&#1086;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1080; &#1083;&#1086;&#1074;&#1091;&#1096;&#1077;&#1082;.
</li>
<li>
&#1042; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1091; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1086;&#1074; &#1103; &#1076;&#1086;&#1073;&#1072;&#1074;&#1080;&#1083; &#1077;&#1097;&#1077; &#1086;&#1076;&#1080;&#1085; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;, &#1086;&#1087;&#1080;&#1089;&#1099;&#1074;&#1072;&#1102;&#1097;&#1080;&#1081; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090; &#1074;&#1080;&#1076;&#1077;&#1086;&#1087;&#1072;&#1084;&#1103;&#1090;&#1080; &#1074; &#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077;. &#1069;&#1090;&#1086;&#1090; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090; &#1091;&#1076;&#1086;&#1073;&#1085;&#1086; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100; &#1087;&#1088;&#1080; &#1074;&#1099;&#1074;&#1086;&#1076;&#1077; &#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1099;&#1093; &#1089;&#1086;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1081; &#1085;&#1072; &#1101;&#1082;&#1088;&#1072;&#1085;. &#1057;&#1077;&#1083;&#1077;&#1082;&#1090;&#1086;&#1088; &#1101;&#1090;&#1086;&#1075;&#1086; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1072; &#1084;&#1099; &#1079;&#1072;&#1075;&#1088;&#1091;&#1078;&#1072;&#1077;&#1084; &#1074; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1085;&#1099;&#1081; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088; <strong>ES</strong>, &#1087;&#1086;&#1089;&#1082;&#1086;&#1083;&#1100;&#1082;&#1091; &#1080;&#1084;&#1077;&#1085;&#1085;&#1086; &#1101;&#1090;&#1086;&#1090; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1085;&#1099;&#1081; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1074; Intel&rsquo;&#1086;&#1074;&#1089;&#1082;&#1080;&#1093; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072;&#1093;, &#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1102;&#1097;&#1080;&#1093; &#1089;&#1086; &#1089;&#1090;&#1088;&#1086;&#1082;&#1072;&#1084;&#1080; (stos, stosw &#1080; &#1087;&#1088;.). &#1054; &#1089;&#1090;&#1088;&#1086;&#1082;&#1086;&#1074;&#1099;&#1093; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072;&#1093; Intel &#1095;&#1080;&#1090;&#1072;&#1081;&#1090;&#1077; &#1074; <strong>Intel 64 and IA-32 Architectures Software Developer&rsquo;s Manual &mdash; Volume 2. Instruction Set Reference, A-Z</strong>.
</li>
</ul>
<p>&#1048;&#1090;&#1072;&#1082;, &#1074;&#1086;&#1090; &#1087;&#1086;&#1083;&#1085;&#1099;&#1081; &#1082;&#1086;&#1076; &#1092;&#1072;&#1081;&#1083;&#1072; <strong>boot_sector.asm</strong>:</p>
<div class="codecolorer-container asm default" style="overflow:auto;white-space:nowrap;"><div class="asm codecolorer"><span class="co1">; boot_sector.asm</span><br>
<br>
<span class="co1">; ============================================ REAL MODE =======================================================</span><br>
<span class="kw5">use16</span> &nbsp; &nbsp; <span class="co1">; generate 16-bit code</span><br>
org <span class="nu0">7C00h</span> <span class="co1">; the code starts at 0x7C00 memory address</span><br>
<br>
<span class="kw5">start</span><span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> far <span class="kw6">dword</span> <span class="nu0">0x0000</span><span class="sy1">:</span>entr <span class="co1">; makes CS=0, IP=0x7c00</span><br>
<br>
include <span class="st0">'bios_services.inc'</span><br>
<br>
entr<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">xor</span> &nbsp;<span class="kw4">ax</span><span class="sy1">,</span> <span class="kw4">ax</span> &nbsp; &nbsp; <span class="co1">; ax = 0</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> &nbsp;<span class="kw4">ds</span><span class="sy1">,</span> <span class="kw4">ax</span> &nbsp; &nbsp; <span class="co1">; setup data segment ds=ax=0</span><br>
&nbsp; &nbsp; <span class="kw1">cli</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">; when we set up stack we need disable interrupts because stack is involved in interrupts handling</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> &nbsp;<span class="kw4">ss</span><span class="sy1">,</span> <span class="kw4">ax</span> &nbsp; &nbsp; <span class="co1">; setup stack segment ss=ax=0</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> &nbsp;<span class="kw4">sp</span><span class="sy1">,</span> <span class="nu0">0x7C00</span> <span class="co1">; stack will grow starting from 0x7C00 memory address</span><br>
&nbsp; &nbsp; <span class="kw1">sti</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">; enable interrupts</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">call</span> BIOS_ClearScreen<br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">jmp</span> bootloader<br>
&nbsp; &nbsp; <br>
<span class="co1">; -------------------------------------------- BOOTLOADER ------------------------------------------------------</span><br>
disk_id <span class="kw5">dw</span> <span class="nu0">0x0000</span> <span class="co1">; disk identifier (0...3 - floppy disks; greater or equal to 0x80 - other disk types)</span><br>
bootloader_message <span class="kw5">db</span> <span class="st0">'Starting bootloader...'</span><span class="sy1">,</span> <span class="nu0">0x0D</span><span class="sy1">,</span> <span class="nu0">0x0A</span><span class="sy1">,</span> <span class="nu0">0</span><br>
<br>
bootloader<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw6">byte</span> <span class="br0">[</span>disk_id<span class="br0">]</span><span class="sy1">,</span> <span class="kw4">dl</span> <span class="co1">; save disk identifier (it appears in dl after the start of PC)</span><br>
<br>
&nbsp; &nbsp; <span class="co1">; Print message</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> bootloader_message<br>
&nbsp; &nbsp; <span class="kw1">call</span> BIOS_PrintString<br>
<br>
&nbsp; &nbsp; <span class="co1">; Reset disk subsystem</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="br0">[</span>disk_id<span class="br0">]</span><br>
&nbsp; &nbsp; <span class="kw1">call</span> BIOS_ResetDiskSubsystem<br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="br0">[</span>disk_id<span class="br0">]</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; push disk identifier</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw6">dword</span> <span class="nu0">1</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; push LBA of the 1st sector to load</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="br0">(</span>finish<span class="sy1">-</span><span class="kw5">start</span><span class="sy1">-</span><span class="nu0">1</span><span class="br0">)</span><span class="sy1">/</span><span class="nu0">512</span> <span class="co1">; push number of sectors to load</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> second_sector &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; push memory address at which sectors are to be loaded</span><br>
&nbsp; &nbsp; <span class="kw1">call</span> BIOS_LoadSectorsSmart<br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">jmp</span> transition_to_pm<br>
<br>
<span class="co1">; -------------------------------------------- TRANSITION TO PROTECTED MODE ------------------------------------</span><br>
transition_to_pm<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="co1">; Open gate A20 through the System Control Port A</span><br>
&nbsp; &nbsp; <span class="kw1">in</span> &nbsp;<span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x92</span> <span class="co1">; read the content of port 0x92 (System Control Port A) into al</span><br>
&nbsp; &nbsp; <span class="kw1">or</span> &nbsp;<span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x02</span> <span class="co1">; set 1st bit in al to 1</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> <span class="nu0">0x92</span><span class="sy1">,</span> <span class="kw4">al</span> <span class="co1">; write al into port 0x92</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Disable maskable interrupts</span><br>
&nbsp; &nbsp; <span class="kw1">cli</span> <span class="co1">; clear flag IF in EFLAGS register</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Disable non-maskable interrupts</span><br>
&nbsp; &nbsp; <span class="kw1">in</span> &nbsp;<span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x70</span><br>
&nbsp; &nbsp; <span class="kw1">or</span> &nbsp;<span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x80</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> <span class="nu0">0x70</span><span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">lgdt</span> <span class="br0">[</span>gdtr<span class="br0">]</span> <span class="co1">; load the address and size of Global Descriptor Table (GDT) into GDTR register</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Switch to protected mode</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> &nbsp;<span class="kw4">eax</span><span class="sy1">,</span> <span class="kw4">cr0</span> &nbsp;<span class="co1">; read the content of register cr0 (Machine Status Word - MSW) into eax</span><br>
&nbsp; &nbsp; <span class="kw1">or</span> &nbsp; <span class="kw4">al</span><span class="sy1">,</span> &nbsp;<span class="nu0">0x01</span> <span class="co1">; set 0th bit to 1 (0th bit of cr0 is called PE - Protection Enable)</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> &nbsp;<span class="kw4">cr0</span><span class="sy1">,</span> <span class="kw4">eax</span> &nbsp;<span class="co1">; write eax to cr0</span><br>
<br>
&nbsp; &nbsp; <span class="co1">; Load protected mode entry point into CS:EIP</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> far <span class="kw6">dword</span> <span class="nu0">0000000000001000b</span><span class="sy1">:</span>pm_entry <span class="co1">; 0000000000001000b is a segment selector which is loaded into CS register</span><br>
<br>
<span class="co1">; -------------------------------------------- BOOT SECTOR SIGNATURE -------------------------------------------</span><br>
end_of_boot_sector<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="co1">; The size of a disk sector is 512 bytes. Boot sector signature occupies the two last bytes.</span><br>
&nbsp; &nbsp; <span class="co1">; The gap between the end of the source code and the boot sector signature is filled with zeroes.</span><br>
&nbsp; &nbsp; <span class="kw5">times</span> <span class="nu0">510</span><span class="sy1">-</span>end_of_boot_sector<span class="sy1">+</span><span class="kw5">start</span> <span class="kw5">db</span> <span class="nu0">0</span> <br>
&nbsp; &nbsp; <span class="kw5">db</span> <span class="nu0">55h</span><span class="sy1">,</span> <span class="nu0">0AAh</span> <span class="co1">; boot sector signature</span><br>
<br>
second_sector<span class="sy1">:</span><br>
&nbsp; &nbsp; <br>
<span class="co1">; ============================================ PROTECTED MODE ==================================================</span><br>
<span class="kw5">use32</span> <span class="co1">; generate 32-bit code</span><br>
<br>
<span class="co1">; -------------------------------------------- GLOBAL DESCRIPTOR TABLE -----------------------------------------</span><br>
include <span class="st0">'descriptor_macros.inc'</span><br>
<br>
<span class="kw5">align</span> <span class="nu0">8</span> <span class="co1">; we align global descriptor table to the 8-bytes boundary (for the sake of processor's performance)</span><br>
gdt<span class="sy1">:</span><br>
&nbsp; &nbsp; NULL_SEG_DESCRIPTOR <span class="kw5">db</span> <span class="nu0">8</span> dup<span class="br0">(</span><span class="nu0">0</span><span class="br0">)</span><br>
&nbsp; &nbsp; <span class="co1">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Base &nbsp; &nbsp; &nbsp; &nbsp;Limit &nbsp; &nbsp;DPL &nbsp;Type</span><br>
&nbsp; &nbsp; SEGMENT_DESCRIPTOR <span class="nu0">0x00000000</span><span class="sy1">,</span> <span class="nu0">0xFFFFF</span><span class="sy1">,</span> <span class="nu0">00b</span><span class="sy1">,</span> CODE_EXECUTE_READ <span class="co1">; code segment descriptor</span><br>
&nbsp; &nbsp; SEGMENT_DESCRIPTOR <span class="nu0">0x00000000</span><span class="sy1">,</span> <span class="nu0">0xFFFFF</span><span class="sy1">,</span> <span class="nu0">00b</span><span class="sy1">,</span> DATA_READ_WRITE &nbsp; <span class="co1">; data and stack segment descriptor</span><br>
&nbsp; &nbsp; SEGMENT_DESCRIPTOR <span class="nu0">0x000B8000</span><span class="sy1">,</span> <span class="nu0">0x00008</span><span class="sy1">,</span> <span class="nu0">00b</span><span class="sy1">,</span> DATA_READ_WRITE &nbsp; <span class="co1">; video memory in text mode segment descriptor</span><br>
<br>
CODE_SELECTOR &nbsp;<span class="kw5">equ</span> <span class="nu0">0000000000001000b</span> <span class="co1">; code segment selector: &nbsp;RPL = 0, TI = 0, Descriptor Index = 1</span><br>
DATA_SELECTOR &nbsp;<span class="kw5">equ</span> <span class="nu0">0000000000010000b</span> <span class="co1">; data segment selector: &nbsp;RPL = 0, TI = 0, Descriptor Index = 2</span><br>
VIDEO_SELECTOR <span class="kw5">equ</span> <span class="nu0">0000000000011000b</span> <span class="co1">; video segment selector: RPL = 0, TI = 0, Descriptor Index = 3</span><br>
&nbsp; &nbsp; <br>
gdt_size <span class="kw5">equ</span> <span class="sy2">$</span> <span class="sy1">-</span> gdt<br>
<br>
<span class="co1">; data to be loaded to GDTR register</span><br>
gdtr<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> gdt_size <span class="sy1">-</span> <span class="nu0">1</span> <span class="co1">; 16-bit limit of the global descriptor table</span><br>
&nbsp; &nbsp; <span class="kw5">dd</span> gdt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; 32-bit base address of the global descriptor table</span><br>
&nbsp; <br>
<span class="co1">; -------------------------------------------- PROTECTED MODE CODE ---------------------------------------------</span><br>
<span class="co1">; Protected mode entry point</span><br>
pm_entry<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="co1">; Initialize segment registers (except CS which is already litialized)</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">ax</span><span class="sy1">,</span> DATA_SELECTOR<br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">ds</span><span class="sy1">,</span> <span class="kw4">ax</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">fs</span><span class="sy1">,</span> <span class="kw4">ax</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">gs</span><span class="sy1">,</span> <span class="kw4">ax</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">ss</span><span class="sy1">,</span> <span class="kw4">ax</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Load the selector of the video memory segment into ES</span><br>
&nbsp; &nbsp; <span class="co1">; because ES is used in string operations like stos, stosw etc.</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">ax</span><span class="sy1">,</span> VIDEO_SELECTOR<br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">es</span><span class="sy1">,</span> <span class="kw4">ax</span><br>
<br>
include <span class="st0">'protected_mode.inc'</span><br>
<br>
finish<span class="sy1">:</span></div></div>
<p>&#1044;&#1072;&#1083;&#1077;&#1077; &#1085;&#1072;&#1089; &#1073;&#1091;&#1076;&#1077;&#1090; &#1080;&#1085;&#1090;&#1077;&#1088;&#1077;&#1089;&#1086;&#1074;&#1072;&#1090;&#1100; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1092;&#1072;&#1081;&#1083; <strong>protected_mode.inc</strong>. &#1045;&#1075;&#1086; &#1089;&#1090;&#1088;&#1091;&#1082;&#1090;&#1091;&#1088;&#1072; &#1090;&#1072;&#1082;&#1086;&#1074;&#1072;:</p>
<div class="codecolorer-container asm default" style="overflow:auto;white-space:nowrap;"><div class="asm codecolorer"><span class="co1">; protected_mode.inc</span><br>
<span class="kw1">jmp</span> protected_mode_code<br>
<span class="co1">; &#1088;&#1072;&#1079;&#1085;&#1099;&#1077; &#1076;&#1072;&#1085;&#1085;&#1099;&#1077;: &#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1099;&#1077; &#1089;&#1086;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1103;, &#1089;&#1095;&#1077;&#1090;&#1095;&#1080;&#1082; &#1076;&#1083;&#1103; &#1090;&#1072;&#1081;&#1084;&#1077;&#1088;&#1072;, &#1087;&#1086;&#1079;&#1080;&#1094;&#1080;&#1103; &#1082;&#1091;&#1088;&#1089;&#1086;&#1088;&#1072;, &#1089;&#1082;&#1072;&#1085;-&#1082;&#1086;&#1076;&#1099; &#1082;&#1083;&#1072;&#1074;&#1080;&#1072;&#1090;&#1091;&#1088;&#1099;</span><br>
<span class="co1">; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1072; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1086;&#1074; &#1096;&#1083;&#1102;&#1079;&#1086;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; (Interrupt Descriptor Table)</span><br>
include <span class="st0">'pm_utility_functions.inc'</span> <span class="co1">; &#1087;&#1086;&#1083;&#1077;&#1079;&#1085;&#1099;&#1077; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080; (&#1085;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088;, &#1074;&#1099;&#1074;&#1086;&#1076; &#1090;&#1077;&#1082;&#1089;&#1090;&#1072; &#1085;&#1072; &#1101;&#1082;&#1088;&#1072;&#1085;)</span><br>
include <span class="st0">'keyboard.inc'</span> <span class="co1">; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080; &#1080; &#1084;&#1072;&#1082;&#1088;&#1086;&#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1103; &#1076;&#1083;&#1103; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1089; &#1082;&#1083;&#1072;&#1074;&#1080;&#1072;&#1090;&#1091;&#1088;&#1086;&#1081;</span><br>
protected_mode_code<span class="sy1">:</span><br>
<span class="co1">; &#1074;&#1099;&#1074;&#1086;&#1076; &#1085;&#1072; &#1101;&#1082;&#1088;&#1072;&#1085; &#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1086;&#1075;&#1086; &#1089;&#1086;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1103; &#1086; &#1090;&#1086;&#1084;, &#1095;&#1090;&#1086; &#1084;&#1099; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077;</span><br>
<span class="co1">; &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1072;&#1094;&#1080;&#1103; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;</span><br>
<span class="co1">; &#1088;&#1072;&#1079;&#1088;&#1077;&#1096;&#1077;&#1085;&#1080;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;</span><br>
<span class="kw1">jmp</span> <span class="sy2">$</span> <span class="co1">; &#1073;&#1077;&#1089;&#1082;&#1086;&#1085;&#1077;&#1095;&#1085;&#1099;&#1081; &#1094;&#1080;&#1082;&#1083;</span><br>
<span class="co1">; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1080; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;</span></div></div>
<p>&#1056;&#1072;&#1089;&#1089;&#1084;&#1086;&#1090;&#1088;&#1080;&#1084; &#1082;&#1072;&#1078;&#1076;&#1091;&#1102; &#1095;&#1072;&#1089;&#1090;&#1100; &#1082;&#1086;&#1076;&#1072; &#1074; &#1086;&#1090;&#1076;&#1077;&#1083;&#1100;&#1085;&#1086;&#1089;&#1090;&#1080;.</p>
<h2>&#1042;&#1099;&#1074;&#1086;&#1076; &#1085;&#1072; &#1101;&#1082;&#1088;&#1072;&#1085; &#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1099;&#1093; &#1089;&#1086;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1081;</h2>
<p>&#1055;&#1086;&#1082;&#1072; &#1092;&#1072;&#1081;&#1083; <strong>pm_utility_functions.inc</strong> &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090; &#1090;&#1086;&#1083;&#1100;&#1082;&#1086; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080; &#1076;&#1083;&#1103; &#1074;&#1099;&#1074;&#1086;&#1076;&#1072; &#1090;&#1077;&#1082;&#1089;&#1090;&#1072; &#1085;&#1072; &#1101;&#1082;&#1088;&#1072;&#1085;. &#1042;&#1086;&#1079;&#1084;&#1086;&#1078;&#1085;&#1086; &#1074; &#1076;&#1072;&#1083;&#1100;&#1085;&#1077;&#1081;&#1096;&#1077;&#1084; &#1103; &#1076;&#1086;&#1073;&#1072;&#1074;&#1083;&#1102; &#1074; &#1085;&#1077;&#1075;&#1086; &#1077;&#1097;&#1077; &#1082;&#1072;&#1082;&#1080;&#1077;-&#1090;&#1086; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1080;. &#1042; <a href="https://en.wikipedia.org/wiki/Color_Graphics_Adapter">&#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077;</a> &#1101;&#1082;&#1088;&#1072;&#1085; &#1076;&#1077;&#1083;&#1080;&#1090;&#1089;&#1103; &#1085;&#1072; 25 &#1089;&#1090;&#1088;&#1086;&#1082; &#1080; 80 &#1089;&#1090;&#1086;&#1083;&#1073;&#1094;&#1086;&#1074; &#1080; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1090; 25*80=2000 &#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1099;&#1093; &#1089;&#1080;&#1084;&#1074;&#1086;&#1083;&#1086;&#1074;. &#1042;&#1089;&#1077; 2000 &#1089;&#1080;&#1084;&#1074;&#1086;&#1083;&#1086;&#1074; &#1087;&#1088;&#1077;&#1076;&#1089;&#1090;&#1072;&#1074;&#1083;&#1103;&#1102;&#1090; &#1089;&#1086;&#1073;&#1086;&#1081; &#1084;&#1072;&#1089;&#1089;&#1080;&#1074;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090;&#1089;&#1103; &#1074; &#1074;&#1080;&#1076;&#1077;&#1086;&#1087;&#1072;&#1084;&#1103;&#1090;&#1080;, &#1082;&#1086;&#1090;&#1086;&#1088;&#1072;&#1103; &#1087;&#1088;&#1086;&#1077;&#1094;&#1080;&#1088;&#1091;&#1077;&#1090;&#1089;&#1103; &#1085;&#1072; &#1072;&#1076;&#1088;&#1077;&#1089;&#1085;&#1086;&#1077; &#1087;&#1088;&#1086;&#1089;&#1090;&#1088;&#1072;&#1085;&#1089;&#1090;&#1074;&#1086; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;&#1072; &#1085;&#1072;&#1095;&#1080;&#1085;&#1072;&#1103; &#1089; &#1072;&#1076;&#1088;&#1077;&#1089;&#1072; <strong>0xB800</strong> (&#1101;&#1090;&#1086;&#1090; &#1072;&#1076;&#1088;&#1077;&#1089;, &#1082;&#1072;&#1082; &#1074;&#1099; &#1087;&#1086;&#1084;&#1085;&#1080;&#1090;&#1077;, &#1079;&#1072;&#1087;&#1080;&#1089;&#1072;&#1085; &#1091; &#1085;&#1072;&#1089; &#1074; &#1089;&#1087;&#1077;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1086;&#1084; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1077; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1072;). &#1050;&#1072;&#1078;&#1076;&#1099;&#1081; &#1089;&#1080;&#1084;&#1074;&#1086;&#1083; &#1079;&#1072;&#1085;&#1080;&#1084;&#1072;&#1077;&#1090; &#1076;&#1074;&#1072; &#1073;&#1072;&#1081;&#1090;&#1072;. &#1060;&#1086;&#1088;&#1084;&#1072;&#1090; &#1101;&#1090;&#1080;&#1093; &#1076;&#1074;&#1091;&#1093; &#1073;&#1072;&#1081;&#1090; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1081;: </p>
<table>
<tr>
<th colspan="8">&#1040;&#1090;&#1088;&#1080;&#1073;&#1091;&#1090;</th>
<th colspan="8">&#1057;&#1080;&#1084;&#1074;&#1086;&#1083;</th>
</tr>
<tr>
<td width="48">7</td>
<td width="48">6</td>
<td width="48">5</td>
<td width="48">4</td>
<td width="48">3</td>
<td width="48">2</td>
<td width="48">1</td>
<td width="48">0</td>
<td width="48">7</td>
<td width="48">6</td>
<td width="48">5</td>
<td width="48">4</td>
<td width="48">3</td>
<td width="48">2</td>
<td width="48">1</td>
<td width="48">0</td>
</tr>
<tr>
<td align="center">&#1052;&#1077;&#1088;&#1094;&#1072;&#1085;&#1080;&#1077;</td>
<td colspan="3">&#1062;&#1074;&#1077;&#1090; &#1092;&#1086;&#1085;&#1072;</td>
<td colspan="4">&#1062;&#1074;&#1077;&#1090; &#1090;&#1077;&#1082;&#1089;&#1090;&#1072;</td>
<td colspan="8">ASCII-&#1082;&#1086;&#1076; &#1089;&#1080;&#1084;&#1074;&#1086;&#1083;&#1072;</td>
</tr>
</table>
<p>&#1058;&#1072;&#1082;&#1080;&#1084; &#1086;&#1073;&#1088;&#1072;&#1079;&#1086;&#1084;, &#1095;&#1090;&#1086;&#1073;&#1099; &#1074;&#1099;&#1074;&#1077;&#1089;&#1090;&#1080; &#1090;&#1077;&#1082;&#1089;&#1090;&#1086;&#1074;&#1091;&#1102; &#1089;&#1090;&#1088;&#1086;&#1082;&#1091; &#1085;&#1072; &#1101;&#1082;&#1088;&#1072;&#1085;, &#1085;&#1072;&#1076;&#1086; &#1089;&#1082;&#1086;&#1087;&#1080;&#1088;&#1086;&#1074;&#1072;&#1090;&#1100; &#1089;&#1080;&#1084;&#1074;&#1086;&#1083;&#1099; &#1101;&#1090;&#1086;&#1081; &#1089;&#1090;&#1088;&#1086;&#1082;&#1080; &#1074; &#1074;&#1080;&#1076;&#1077;&#1086;&#1087;&#1072;&#1084;&#1103;&#1090;&#1100;, &#1085;&#1077; &#1079;&#1072;&#1073;&#1099;&#1074; &#1076;&#1086;&#1073;&#1072;&#1074;&#1080;&#1090;&#1100; &#1082; &#1082;&#1072;&#1078;&#1076;&#1086;&#1084;&#1091; &#1089;&#1080;&#1084;&#1074;&#1086;&#1083;&#1091; &#1077;&#1075;&#1086; &#1072;&#1090;&#1088;&#1080;&#1073;&#1091;&#1090;. &#1042;&#1086;&#1090; &#1101;&#1090;&#1086; &#1074;&#1089;&#1077; &#1080; &#1076;&#1077;&#1083;&#1072;&#1077;&#1090; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103; <strong>PrintString</strong>, &#1082;&#1086;&#1076; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1081; &#1087;&#1088;&#1080;&#1074;&#1077;&#1076;&#1077;&#1085; &#1085;&#1080;&#1078;&#1077;. &#1058;&#1072;&#1082;&#1078;&#1077; &#1091; &#1085;&#1072;&#1089; &#1077;&#1089;&#1090;&#1100; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103; <strong>ClearScreen</strong>, &#1082;&#1086;&#1090;&#1086;&#1088;&#1072;&#1103; &#1079;&#1072;&#1087;&#1086;&#1083;&#1085;&#1103;&#1077;&#1090; &#1074;&#1077;&#1089;&#1100; &#1101;&#1082;&#1088;&#1072;&#1085; &#1085;&#1091;&#1083;&#1077;&#1074;&#1099;&#1084;&#1080; &#1089;&#1080;&#1084;&#1074;&#1086;&#1083;&#1072;&#1084;&#1080;.</p>
<div class="codecolorer-container asm default" style="overflow:auto;white-space:nowrap;"><div class="asm codecolorer"><span class="co1">; pm_utility_functions.inc</span><br>
<br>
<span class="co1">; &lt;---- ClearScreen ---------------</span><br>
ClearScreen<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">eax</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">ecx</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">edi</span><br>
<br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">eax</span><span class="sy1">,</span> <span class="nu0">0x0700</span> <span class="co1">; symbol (0x00) and its attribute (0x07)</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">ecx</span><span class="sy1">,</span> <span class="nu0">2000</span> &nbsp; <span class="co1">; size of the screen in symbols</span><br>
&nbsp; &nbsp; <span class="kw1">cld</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">; direction flag = 0 (means that edi will be incremented)</span><br>
&nbsp; &nbsp; <span class="kw1">xor</span> <span class="kw4">edi</span><span class="sy1">,</span> <span class="kw4">edi</span> &nbsp; &nbsp;<span class="co1">; edi = 0</span><br>
&nbsp; &nbsp; <span class="kw1">rep</span> <span class="kw1">stosw</span> &nbsp; &nbsp; &nbsp; <span class="co1">; while(ecx != 0) { mov word [es:edi], ax; edi = edi + 2; }</span><br>
<br>
&nbsp; &nbsp; <span class="kw1">pop</span> <span class="kw4">edi</span><br>
&nbsp; &nbsp; <span class="kw1">pop</span> <span class="kw4">ecx</span><br>
&nbsp; &nbsp; <span class="kw1">pop</span> <span class="kw4">eax</span><br>
&nbsp; &nbsp; <span class="kw1">ret</span><br>
<span class="co1">; --------------------------------&gt;</span><br>
<br>
<span class="co1">; &lt;---- PrintString ---------------</span><br>
<span class="co1">; Prints out a string. The string must be zero-terminated.</span><br>
<span class="co1">; Parameters: dword [ebp + 8] - address of a zero-terminated string</span><br>
<span class="co1">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; word [ebp + 12] - column (0...79)</span><br>
<span class="co1">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; word [ebp + 14] - row (0...24)</span><br>
<span class="co1">; Remarks: This function assumes that the video card is in the text mode (CGA-mode)</span><br>
<span class="co1">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;where there are 80 columns * 25 rows each cell comprised of two bytes:</span><br>
<span class="co1">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1st - the ASCII-code,</span><br>
<span class="co1">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2nd - the attribute: four most significant bits define background color,</span><br>
<span class="co1">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; four least significant bits define foreground color.</span><br>
<span class="co1">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;The function also assumes that ES points to a segment descriptor which points to 0xB800 address</span><br>
<span class="co1">; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;which is the beginning of video memory in video text mode.</span><br>
PrintString<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">ebp</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">ebp</span><span class="sy1">,</span> <span class="kw4">esp</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">eax</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">edi</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">esi</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">xor</span> <span class="kw4">eax</span><span class="sy1">,</span> <span class="kw4">eax</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; eax = 0</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">160</span> &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">; al = 80*2</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">ah</span><span class="sy1">,</span> <span class="br0">[</span><span class="kw4">ebp</span> <span class="sy1">+</span> <span class="nu0">14</span><span class="br0">]</span> &nbsp;<span class="co1">; ah = row</span><br>
&nbsp; &nbsp; <span class="kw1">mul</span> <span class="kw4">ah</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; ax = al * ah = 80*2 * row</span><br>
&nbsp; &nbsp; <span class="kw1">add</span> <span class="kw4">ax</span><span class="sy1">,</span> <span class="br0">[</span><span class="kw4">ebp</span> <span class="sy1">+</span> <span class="nu0">12</span><span class="br0">]</span> &nbsp;<span class="co1">; ax = ax + column = 80*2 * row + column</span><br>
&nbsp; &nbsp; <span class="kw1">add</span> <span class="kw4">ax</span><span class="sy1">,</span> <span class="br0">[</span><span class="kw4">ebp</span> <span class="sy1">+</span> <span class="nu0">12</span><span class="br0">]</span> &nbsp;<span class="co1">; ax = ax + column = 80*2 * row + column*2</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">esi</span><span class="sy1">,</span> <span class="br0">[</span><span class="kw4">ebp</span> <span class="sy1">+</span> <span class="nu0">8</span><span class="br0">]</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">edi</span><span class="sy1">,</span> <span class="kw4">eax</span><br>
&nbsp; &nbsp; <span class="kw1">cld</span><br>
&nbsp; &nbsp; <br>
<span class="co1">; Text-printing loop</span><br>
@@<span class="sy1">:</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">lodsb</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; load to al the next charachter located at [ds:esi] address in memory (esi is incremented automatically as DF = 0)</span><br>
&nbsp; &nbsp; <span class="kw1">test</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="kw4">al</span> &nbsp;<span class="co1">; test al against zero</span><br>
&nbsp; &nbsp; <span class="kw1">jz</span> @f &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; exit if al is zero</span><br>
&nbsp; &nbsp; <span class="kw1">stosb</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; otherwise move al to memory at address [es:edi] (edi is incremented automatically as DF = 0)</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x07</span> <span class="co1">; attribute=0x07 (foreground=light grey, background=black)</span><br>
&nbsp; &nbsp; <span class="kw1">stosb</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; move al to memory at address [es:edi] (edi is incremented automatically as DF = 0)</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> @b<br>
@@<span class="sy1">:</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">pop</span> <span class="kw4">esi</span><br>
&nbsp; &nbsp; <span class="kw1">pop</span> <span class="kw4">edi</span><br>
&nbsp; &nbsp; <span class="kw1">pop</span> <span class="kw4">eax</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">esp</span><span class="sy1">,</span> <span class="kw4">ebp</span><br>
&nbsp; &nbsp; <span class="kw1">pop</span> <span class="kw4">ebp</span><br>
&nbsp; &nbsp; <span class="kw1">ret</span> <span class="nu0">8</span><br>
<span class="co1">; --------------------------------&gt;</span></div></div>
<h2>&#1064;&#1083;&#1102;&#1079;&#1099; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;</h2>
<p>&#1052;&#1072;&#1082;&#1088;&#1086;&#1089;&#1099; &#1076;&#1083;&#1103; &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1103; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1086;&#1074; &#1089;&#1077;&#1075;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074; &#1080; &#1096;&#1083;&#1102;&#1079;&#1086;&#1074; &#1103; &#1087;&#1086;&#1084;&#1077;&#1089;&#1090;&#1080;&#1083; &#1074; &#1086;&#1090;&#1076;&#1077;&#1083;&#1100;&#1085;&#1099;&#1081; &#1092;&#1072;&#1081;&#1083; <strong>descriptor_macros.inc</strong>. &#1060;&#1086;&#1088;&#1084;&#1072;&#1090; &#1076;&#1077;&#1089;&#1082;&#1088;&#1080;&#1087;&#1090;&#1086;&#1088;&#1072; &#1096;&#1083;&#1102;&#1079;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1084;&#1099; &#1091;&#1078;&#1077; &#1088;&#1072;&#1089;&#1089;&#1084;&#1086;&#1090;&#1088;&#1077;&#1083;&#1080;. &#1053;&#1072;&#1087;&#1080;&#1089;&#1072;&#1090;&#1100; &#1087;&#1086;&#1089;&#1083;&#1077; &#1101;&#1090;&#1086;&#1075;&#1086; &#1084;&#1072;&#1082;&#1088;&#1086;&#1089; &#1076;&#1083;&#1103; &#1077;&#1075;&#1086; &#1086;&#1087;&#1088;&#1077;&#1076;&#1077;&#1083;&#1077;&#1085;&#1080;&#1103; &#1085;&#1077;&#1089;&#1083;&#1086;&#1078;&#1085;&#1086;. &#1042;&#1089;&#1077; &#1087;&#1086;&#1103;&#1089;&#1085;&#1077;&#1085;&#1080;&#1103; &mdash; &#1074; &#1082;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1103;&#1093;.</p>
<div class="codecolorer-container asm default" style="overflow:auto;white-space:nowrap;"><div class="asm codecolorer"><span class="co1">; descriptor_macros.inc</span><br>
<br>
<span class="co1">; Segment descriptor format</span><br>
<span class="co1">; BITS &nbsp;| SIZE | FIELD</span><br>
<span class="co1">; ------+------+------</span><br>
<span class="co1">; 0-15 &nbsp;| &nbsp;16 &nbsp;| Limit[0:15]</span><br>
<span class="co1">; 16-39 | &nbsp;24 &nbsp;| Base[0:23]</span><br>
<span class="co1">; 40-47 | &nbsp; 8 &nbsp;| P DPL[0:1] S Type[0:3]</span><br>
<span class="co1">; 48-55 | &nbsp; 8 &nbsp;| G D/B L AVL Limit[16:19]</span><br>
<span class="co1">; 56-63 | &nbsp; 8 &nbsp;| Base[24:31]</span><br>
<br>
<span class="co1">; The following macro defines a code or a data segment descriptor.</span><br>
<span class="co1">; The following assumtions take place:</span><br>
<span class="co1">; P=1 (the segment is present in physical memory)</span><br>
<span class="co1">; S=1 (the segment is not a system segment)</span><br>
<span class="co1">; G=1 (the Limit of the segment is measured in 4-kiB pages)</span><br>
<span class="co1">; D/B=1 L=0 (the segment is a 32-bit segment)</span><br>
<span class="co1">; AVL=0</span><br>
macro SEGMENT_DESCRIPTOR _Base<span class="sy1">,</span> _Limit<span class="sy1">,</span> _DPL<span class="sy1">,</span> _Type<br>
<span class="br0">{</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> _Limit <span class="kw1">and</span> <span class="nu0">0xFFFF</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">; Limit[0:15]</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> _Base &nbsp;<span class="kw1">and</span> <span class="nu0">0xFFFF</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">; Base[0:15]</span><br>
&nbsp; &nbsp; <span class="kw5">db</span> <span class="br0">(</span>_Base <span class="kw1">shr</span> <span class="nu0">16</span><span class="br0">)</span> <span class="kw1">and</span> <span class="nu0">0xFF</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="co1">; Base[15:23]</span><br>
&nbsp; &nbsp; <span class="kw5">db</span> _Type <span class="kw1">or</span> <span class="br0">(</span>_DPL <span class="kw1">shr</span> <span class="nu0">5</span><span class="br0">)</span> <span class="kw1">or</span> <span class="nu0">10010000b</span> &nbsp;<span class="co1">; P DPL[0:1] S Type[0:3]</span><br>
&nbsp; &nbsp; <span class="kw5">db</span> <span class="nu0">11000000b</span> <span class="kw1">or</span> <span class="br0">(</span>_Limit <span class="kw1">shr</span> <span class="nu0">16</span><span class="br0">)</span> &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; G D/B L AVL Limit[16:19]</span><br>
&nbsp; &nbsp; <span class="kw5">db</span> <span class="br0">(</span>_Base <span class="kw1">shr</span> <span class="nu0">24</span><span class="br0">)</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; Base[24:31]</span><br>
<span class="br0">}</span><br>
<br>
<span class="co1">; Segment descriptor types (see Intel 64 and IA-32 Architectures Software Developer&rsquo;s Manual - 3.4.5.1 Code- and Data-Segment Descriptor Types).</span><br>
<span class="co1">; Can be used as the _Type argument of SEGMENT_DESCRIPTOR macro</span><br>
DATA_READ_ONLY <span class="kw5">equ</span> <span class="nu0">0000b</span><br>
DATA_READ_WRITE <span class="kw5">equ</span> <span class="nu0">0010b</span><br>
DATA_READ_ONLY_EXPAND_DOWN <span class="kw5">equ</span> <span class="nu0">0100b</span><br>
DATA_READ_WRITE_EXPAND_DOWN <span class="kw5">equ</span> <span class="nu0">0110b</span><br>
CODE_EXECUTE_ONLY <span class="kw5">equ</span> <span class="nu0">1000b</span><br>
CODE_EXECUTE_READ <span class="kw5">equ</span> <span class="nu0">1010b</span><br>
CODE_EXECUTE_ONLY_CONFORMING <span class="kw5">equ</span> <span class="nu0">1110b</span><br>
CODE_EXECUTE_READ_CONFORMING <span class="kw5">equ</span> <span class="nu0">1111b</span><br>
<br>
<span class="co1">; Interrupt gate descriptor format</span><br>
<span class="co1">; BITS &nbsp;| SIZE | FIELD</span><br>
<span class="co1">; ------+------+------</span><br>
<span class="co1">; 0-15 &nbsp;| &nbsp;16 &nbsp;| Offset[0:15]</span><br>
<span class="co1">; 16-31 | &nbsp;16 &nbsp;| Selector[0:15]</span><br>
<span class="co1">; 32-39 | &nbsp; 8 &nbsp;| reserved</span><br>
<span class="co1">; 40-47 | &nbsp; 8 &nbsp;| P DPL[0:1] 0 D 1 1 0</span><br>
<span class="co1">; 48-63 | &nbsp;16 &nbsp;| Offset[16:31]</span><br>
<br>
<span class="co1">; The following macro defines an interrupt gate descriptor.</span><br>
<span class="co1">; The following assumtions take place:</span><br>
<span class="co1">; P=1 (the segment is present in physical memory)</span><br>
<span class="co1">; D=1 (the size of gate is 32 bit)</span><br>
<span class="co1">; DPL=0 (descriptor privilege level = 0)</span><br>
macro INTERRUPT_GATE_DESCRIPTOR _Selector<span class="sy1">,</span> _Offset<br>
<span class="br0">{</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> _Offset <span class="kw1">and</span> <span class="nu0">0xFFFF</span> <span class="co1">; Offset[0:15]</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> _Selector &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; Selector</span><br>
&nbsp; &nbsp; <span class="kw5">db</span> <span class="nu0">0</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; reserved</span><br>
&nbsp; &nbsp; <span class="kw5">db</span> <span class="nu0">10001110b</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; P DPL[0:1] 0 D 1 1 0</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> _Offset <span class="kw1">shr</span> <span class="nu0">16</span> &nbsp; &nbsp; <span class="co1">; Offset[16:31]</span><br>
<span class="br0">}</span><br>
<br>
<span class="co1">; Trap gate descriptor format</span><br>
<span class="co1">; BITS &nbsp;| SIZE | FIELD</span><br>
<span class="co1">; ------+------+------</span><br>
<span class="co1">; 0-15 &nbsp;| &nbsp;16 &nbsp;| Offset[0:15]</span><br>
<span class="co1">; 16-31 | &nbsp;16 &nbsp;| Selector[0:15]</span><br>
<span class="co1">; 32-39 | &nbsp; 8 &nbsp;| reserved</span><br>
<span class="co1">; 40-47 | &nbsp; 8 &nbsp;| P DPL[0:1] 0 D 1 1 1</span><br>
<span class="co1">; 48-63 | &nbsp;16 &nbsp;| Offset[16:31]</span><br>
<br>
<span class="co1">; The following macro defines a trap gate descriptor.</span><br>
<span class="co1">; The following assumtions take place:</span><br>
<span class="co1">; P=1 (the segment is present in physical memory)</span><br>
<span class="co1">; D=1 (the size of gate is 32 bit)</span><br>
<span class="co1">; DPL=0 (descriptor privilege level = 0)</span><br>
macro TRAP_GATE_DESCRIPTOR _Selector<span class="sy1">,</span> _Offset<br>
<span class="br0">{</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> _Offset <span class="kw1">and</span> <span class="nu0">0xFFFF</span> <span class="co1">; Offset[0:15]</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> _Selector &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; Selector</span><br>
&nbsp; &nbsp; <span class="kw5">db</span> <span class="nu0">0</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; reserved</span><br>
&nbsp; &nbsp; <span class="kw5">db</span> <span class="nu0">10001111b</span> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; P DPL[0:1] 0 D 1 1 1</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> _Offset <span class="kw1">shr</span> <span class="nu0">16</span> &nbsp; &nbsp; <span class="co1">; Offset[16:31]</span><br>
<span class="br0">}</span></div></div>
<h2>&#1050;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;</h2>
<p>&#1040;&#1087;&#1087;&#1072;&#1088;&#1072;&#1090;&#1085;&#1099;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &mdash; &#1101;&#1090;&#1086; &#1084;&#1077;&#1093;&#1072;&#1085;&#1080;&#1079;&#1084;, &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1075;&#1086; &#1087;&#1077;&#1088;&#1080;&#1092;&#1077;&#1088;&#1080;&#1081;&#1085;&#1099;&#1077; &#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; &#1084;&#1086;&#1075;&#1091;&#1090; &#1089;&#1086;&#1086;&#1073;&#1097;&#1072;&#1090;&#1100; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;&#1091; &#1086; &#1085;&#1077;&#1082;&#1080;&#1093; &#1089;&#1086;&#1073;&#1099;&#1090;&#1080;&#1103;&#1093;. &#1055;&#1077;&#1088;&#1080;&#1092;&#1077;&#1088;&#1080;&#1081;&#1085;&#1099;&#1093; &#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074; &#1076;&#1086;&#1074;&#1086;&#1083;&#1100;&#1085;&#1086; &#1084;&#1085;&#1086;&#1075;&#1086;, &#1080; &#1082;&#1072;&#1078;&#1076;&#1086;&#1084;&#1091; &#1074;&#1099;&#1076;&#1077;&#1083;&#1077;&#1085;&#1072; &#1083;&#1080;&#1085;&#1080;&#1103; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;, &#1085;&#1072; &#1082;&#1086;&#1090;&#1086;&#1088;&#1091;&#1102; &#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;&#1086; &#1084;&#1086;&#1078;&#1077;&#1090; &#1074;&#1099;&#1076;&#1072;&#1074;&#1072;&#1090;&#1100; &#1094;&#1080;&#1092;&#1088;&#1086;&#1074;&#1086;&#1081; &#1089;&#1080;&#1075;&#1085;&#1072;&#1083;. &#1042;&#1089;&#1077; &#1101;&#1090;&#1080; &#1083;&#1080;&#1085;&#1080;&#1080; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1080;&#1076;&#1091;&#1090; &#1086;&#1090; &#1087;&#1077;&#1088;&#1080;&#1092;&#1077;&#1088;&#1080;&#1081;&#1085;&#1099;&#1093; &#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074; &#1085;&#1072; &#1089;&#1087;&#1077;&#1094;&#1080;&#1072;&#1083;&#1100;&#1085;&#1091;&#1102; &#1084;&#1080;&#1082;&#1088;&#1086;&#1089;&#1093;&#1077;&#1084;&#1091; &#1085;&#1072; &#1084;&#1072;&#1090;&#1077;&#1088;&#1080;&#1085;&#1089;&#1082;&#1086;&#1081; &#1087;&#1083;&#1072;&#1090;&#1077; &#1082;&#1086;&#1084;&#1087;&#1100;&#1102;&#1090;&#1077;&#1088;&#1072; &mdash; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; <strong>(PIC &mdash; Programmable Interrupt Controller)</strong>. &#1044;&#1086; &#1074;&#1099;&#1093;&#1086;&#1076;&#1072; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;&#1072; Intel Pentium &#1101;&#1090;&#1086;&#1081; &#1084;&#1080;&#1082;&#1088;&#1086;&#1089;&#1093;&#1077;&#1084;&#1086;&#1081; &#1073;&#1099;&#1083;&#1072; <strong>i8259A</strong> (&#1090;&#1086;&#1095;&#1085;&#1077;&#1077;, &#1076;&#1074;&#1077; &#1089;&#1086;&#1077;&#1076;&#1080;&#1085;&#1077;&#1085;&#1085;&#1099;&#1077; &#1076;&#1088;&#1091;&#1075; &#1089; &#1076;&#1088;&#1091;&#1075;&#1086;&#1084; &#1084;&#1080;&#1082;&#1088;&#1086;&#1089;&#1093;&#1077;&#1084;&#1099; i8259A). &#1053;&#1072;&#1095;&#1080;&#1085;&#1072;&#1103; &#1089; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;&#1072; Pentium &#1085;&#1072;&#1095;&#1072;&#1083; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; &#1085;&#1086;&#1074;&#1099;&#1081; &#1084;&#1077;&#1093;&#1072;&#1085;&#1080;&#1079;&#1084; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1080; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1087;&#1086;&#1076; &#1085;&#1072;&#1079;&#1074;&#1072;&#1085;&#1080;&#1077;&#1084; <strong>APIC &mdash; Advanced Programmable Interrupt Controller</strong>, &#1072; &#1074; &#1082;&#1072;&#1095;&#1077;&#1089;&#1090;&#1074;&#1077; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1089;&#1090;&#1072;&#1083;&#1072; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; &#1084;&#1080;&#1082;&#1088;&#1086;&#1089;&#1093;&#1077;&#1084;&#1072; <strong>i82093AA</strong> (i82093AA &mdash; &#1101;&#1090;&#1086; &#1090;&#1072;&#1082; &#1085;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084;&#1099;&#1081; <strong>I/O APIC</strong>, &#1072; &#1077;&#1089;&#1090;&#1100; &#1077;&#1097;&#1077; &#1090;. &#1085;. <strong>Local APIC</strong> &mdash; &#1073;&#1083;&#1086;&#1082;, &#1074;&#1089;&#1090;&#1088;&#1086;&#1077;&#1085;&#1085;&#1099;&#1081; &#1074; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;). &#1042; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; APIC &#1087;&#1088;&#1077;&#1076;&#1091;&#1089;&#1084;&#1086;&#1090;&#1088;&#1077;&#1085;&#1072; &#1086;&#1073;&#1088;&#1072;&#1090;&#1085;&#1072;&#1103; &#1089;&#1086;&#1074;&#1084;&#1077;&#1089;&#1090;&#1080;&#1084;&#1086;&#1089;&#1090;&#1100; &#1089;&#1086; &#1089;&#1090;&#1072;&#1088;&#1086;&#1081; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100;&#1102; (PIC), &#1082;&#1086;&#1075;&#1076;&#1072; I/O APIC &#1101;&#1084;&#1091;&#1083;&#1080;&#1088;&#1091;&#1077;&#1090; &#1088;&#1072;&#1073;&#1086;&#1090;&#1091; &#1076;&#1074;&#1091;&#1093; &#1084;&#1080;&#1082;&#1088;&#1086;&#1089;&#1093;&#1077;&#1084; i8259A. &#1042; &#1101;&#1090;&#1086;&#1081; &#1079;&#1072;&#1084;&#1077;&#1090;&#1082;&#1077; &#1084;&#1099; &#1073;&#1091;&#1076;&#1077;&#1084; &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; &#1089;&#1090;&#1072;&#1088;&#1086;&#1081; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100;&#1102;, &#1072; &#1087;&#1086;&#1095;&#1080;&#1090;&#1072;&#1090;&#1100; &#1087;&#1086;&#1076;&#1088;&#1086;&#1073;&#1085;&#1077;&#1077; &#1086; &#1085;&#1086;&#1074;&#1086;&#1081; &#1084;&#1086;&#1076;&#1077;&#1083;&#1080; &#1084;&#1086;&#1078;&#1085;&#1086; &#1074; &#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1093; &#1080;&#1089;&#1090;&#1086;&#1095;&#1085;&#1080;&#1082;&#1072;&#1093;:</p>
<ul>
<li>
<strong>Intel 64 and IA-32 Architectures Software Developer&rsquo;s Manual &mdash; Volume 3. System Programming Guide</strong> CHAPTER 10 ADVANCED PROGRAMMABLE INTERRUPT CONTROLLER (APIC).
</li>
<li>
<a href="http://www.osdever.net/tutorials/view/advanced-programming-interrupt-controller">os developer &mdash; Advanced Programmable Interrupt Controller</a>
</li>
<li><a href="https://wiki.osdev.org/APIC">OSDev.org &mdash; APIC</a></li>
</ul>
<p>&#1048;&#1090;&#1072;&#1082;, &#1088;&#1072;&#1089;&#1089;&#1084;&#1072;&#1090;&#1088;&#1080;&#1074;&#1072;&#1077;&#1084; &#1089;&#1090;&#1072;&#1088;&#1091;&#1102; &#1084;&#1086;&#1076;&#1077;&#1083;&#1100; (PIC &mdash; &#1076;&#1074;&#1077; &#1084;&#1080;&#1082;&#1088;&#1086;&#1089;&#1093;&#1077;&#1084;&#1099; i8259A). &#1054; &#1074;&#1086;&#1079;&#1085;&#1080;&#1082;&#1085;&#1086;&#1074;&#1077;&#1085;&#1080;&#1080; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1072; &#1085;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077; &#1086;&#1090; &#1087;&#1077;&#1088;&#1080;&#1092;&#1077;&#1088;&#1080;&#1081;&#1085;&#1086;&#1075;&#1086; &#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1091;&#1079;&#1085;&#1072;&#1077;&#1090; &#1073;&#1083;&#1072;&#1075;&#1086;&#1076;&#1072;&#1088;&#1103; &#1074;&#1093;&#1086;&#1076;&#1091; <strong>INTR (interrupt request)</strong>. &#1051;&#1080;&#1085;&#1080;&#1103; INTR &#1089;&#1086;&#1077;&#1076;&#1080;&#1085;&#1077;&#1085;&#1072; &#1089; PIC. &#1059; PIC &#1077;&#1089;&#1090;&#1100; 16 &#1083;&#1080;&#1085;&#1080;&#1081; IRQ, &#1085;&#1072; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1077; &#1087;&#1077;&#1088;&#1080;&#1092;&#1077;&#1088;&#1080;&#1081;&#1085;&#1099;&#1077; &#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;&#1072; &#1087;&#1088;&#1080;&#1089;&#1099;&#1083;&#1072;&#1102;&#1090; &#1089;&#1074;&#1086;&#1080; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089;&#1099; &#1085;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;. PIC &#1089;&#1086;&#1089;&#1090;&#1086;&#1080;&#1090; &#1080;&#1079; &#1076;&#1074;&#1091;&#1093; &#1084;&#1080;&#1082;&#1088;&#1086;&#1089;&#1093;&#1077;&#1084; i8259A, &#1086;&#1076;&#1085;&#1072; &#1080;&#1079; &#1085;&#1080;&#1093; &#1085;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; &#1074;&#1077;&#1076;&#1091;&#1097;&#1077;&#1081; (master), &#1076;&#1088;&#1091;&#1075;&#1072;&#1103; &mdash; &#1074;&#1077;&#1076;&#1086;&#1084;&#1086;&#1081; (slave). &#1059; &#1082;&#1072;&#1078;&#1076;&#1086;&#1081; i8259A &#1074;&#1086;&#1089;&#1077;&#1084;&#1100; &#1074;&#1093;&#1086;&#1076;&#1086;&#1074; IRQ &mdash; &#1074;&#1089;&#1077;&#1075;&#1086; &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1090;&#1089;&#1103; 16. &#1055;&#1088;&#1080;&#1095;&#1077;&#1084; &#1074;&#1077;&#1076;&#1086;&#1084;&#1072;&#1103; i8259A &#1087;&#1086;&#1076;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1072; &#1082;&#1086; &#1074;&#1093;&#1086;&#1076;&#1091; IRQ2 &#1074;&#1077;&#1076;&#1091;&#1097;&#1077;&#1081; i8259A. &#1050;&#1086;&#1075;&#1076;&#1072; &#1087;&#1077;&#1088;&#1080;&#1092;&#1077;&#1088;&#1080;&#1081;&#1085;&#1086;&#1077; &#1091;&#1089;&#1090;&#1088;&#1086;&#1081;&#1089;&#1090;&#1074;&#1086; &#1087;&#1086;&#1089;&#1099;&#1083;&#1072;&#1077;&#1090; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088;&#1091; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1079;&#1072;&#1087;&#1088;&#1086;&#1089; &#1085;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077; (&#1091;&#1089;&#1090;&#1072;&#1085;&#1072;&#1074;&#1083;&#1080;&#1074;&#1072;&#1103; &#1072;&#1082;&#1090;&#1080;&#1074;&#1085;&#1099;&#1081; &#1083;&#1086;&#1075;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080;&#1081; &#1091;&#1088;&#1086;&#1074;&#1077;&#1085;&#1100; &#1085;&#1072; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1091;&#1102;&#1097;&#1077;&#1084; &#1074;&#1093;&#1086;&#1076;&#1077; IRQ), &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088; &#1074; &#1089;&#1074;&#1086;&#1102; &#1086;&#1095;&#1077;&#1088;&#1077;&#1076;&#1100; &#1091;&#1089;&#1090;&#1072;&#1085;&#1072;&#1074;&#1083;&#1080;&#1074;&#1072;&#1077;&#1090; &#1072;&#1082;&#1090;&#1080;&#1074;&#1085;&#1099;&#1081; &#1091;&#1088;&#1086;&#1074;&#1077;&#1085;&#1100; &#1085;&#1072; &#1074;&#1093;&#1086;&#1076;&#1077; INTR &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;&#1072;, &#1087;&#1086;&#1089;&#1083;&#1077; &#1095;&#1077;&#1075;&#1086; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1077;&#1090; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1077; &#1086;&#1089;&#1085;&#1086;&#1074;&#1085;&#1086;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099;, &#1087;&#1086;&#1083;&#1091;&#1095;&#1072;&#1077;&#1090; &#1087;&#1086; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1085;&#1086;&#1081; &#1096;&#1080;&#1085;&#1077; &#1086;&#1090; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1085;&#1086;&#1084;&#1077;&#1088; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;, &#1085;&#1072;&#1093;&#1086;&#1076;&#1080;&#1090; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1074; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1077; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1086;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1080; &#1087;&#1077;&#1088;&#1077;&#1093;&#1086;&#1076;&#1080;&#1090; &#1082; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1102; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;. &#1050;&#1072;&#1078;&#1076;&#1086;&#1084;&#1091; &#1074;&#1093;&#1086;&#1076;&#1091; IRQ &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1091;&#1077;&#1090; &#1085;&#1086;&#1084;&#1077;&#1088; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;, &#1080; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1080;&#1089;&#1090; &#1076;&#1086;&#1083;&#1078;&#1077;&#1085; &#1079;&#1072;&#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1080;&#1088;&#1086;&#1074;&#1072;&#1090;&#1100; &#1101;&#1090;&#1086; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1080;&#1077; &#1087;&#1088;&#1080; &#1080;&#1085;&#1080;&#1094;&#1080;&#1072;&#1083;&#1080;&#1079;&#1072;&#1094;&#1080;&#1080; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;. &#1053;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088;, &#1074; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1077; &#1103; &#1085;&#1072;&#1089;&#1090;&#1088;&#1072;&#1080;&#1074;&#1072;&#1102; PIC &#1090;&#1072;&#1082;, &#1095;&#1090;&#1086;&#1073;&#1099; &#1074;&#1093;&#1086;&#1076; IRQ0 &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1086;&#1074;&#1072;&#1083; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1091; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1085;&#1086;&#1084;&#1077;&#1088; 32, &#1072; IRQ15 &mdash; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1091; &#1085;&#1086;&#1084;&#1077;&#1088; 47. &#1055;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1080;&#1088;&#1086;&#1074;&#1072;&#1085;&#1080;&#1077; PIC &#1086;&#1089;&#1091;&#1097;&#1077;&#1089;&#1090;&#1074;&#1083;&#1103;&#1077;&#1090;&#1089;&#1103; &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1087;&#1086;&#1088;&#1090;&#1086;&#1074; &#1074;&#1074;&#1086;&#1076;&#1072;-&#1074;&#1099;&#1074;&#1086;&#1076;&#1072; 0x20 (&#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088; iSr &#1074;&#1077;&#1076;&#1091;&#1097;&#1077;&#1075;&#1086; PIC), 0x21 (&#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088; iMr &#1074;&#1077;&#1076;&#1091;&#1097;&#1077;&#1075;&#1086; PIC), 0xA0 (&#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088; iSr &#1074;&#1077;&#1076;&#1086;&#1084;&#1086;&#1075;&#1086; PIC), 0xA1 (&#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088; iMr &#1074;&#1077;&#1076;&#1086;&#1084;&#1086;&#1075;&#1086; PIC). &#1055;&#1086;&#1076;&#1088;&#1086;&#1073;&#1085;&#1086;&#1089;&#1090;&#1080; &#1095;&#1080;&#1090;&#1072;&#1081;&#1090;&#1077; &#1074; &#1082;&#1085;&#1080;&#1075;&#1077; [&#1040;&#1073;&#1083;&#1103;&#1079;&#1086;&#1074;] &#1088;&#1072;&#1079;&#1076;&#1077;&#1083; 2.2.6. &#1040;&#1087;&#1087;&#1072;&#1088;&#1072;&#1090;&#1085;&#1099;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;.</p>
<p>&#1059; &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088;&#1072; &#1077;&#1089;&#1090;&#1100; &#1077;&#1097;&#1077; &#1086;&#1076;&#1080;&#1085; &#1074;&#1093;&#1086;&#1076; &mdash; <strong>NMI (non-maskable interrupt)</strong>, &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1072;&#1082;&#1090;&#1080;&#1074;&#1080;&#1088;&#1091;&#1077;&#1090;&#1089;&#1103; &#1087;&#1088;&#1080; &#1074;&#1086;&#1079;&#1085;&#1080;&#1082;&#1085;&#1086;&#1074;&#1077;&#1085;&#1080;&#1080; &#1085;&#1077;&#1082;&#1080;&#1093; &#1072;&#1087;&#1087;&#1072;&#1088;&#1072;&#1090;&#1085;&#1099;&#1093; &#1089;&#1073;&#1086;&#1077;&#1074; (&#1089;&#1084;. <a href="https://wiki.osdev.org/Non_Maskable_Interrupt">OSDev.org &mdash; Non Maskable Interrupt</a> &#1080; &#1088;&#1072;&#1079;&#1076;&#1077;&#1083; 6.7 NONMASKABLE INTERRUPT (NMI) &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1072; <strong>Intel 64 and IA-32 Architectures Software Developer&rsquo;s Manual &mdash; Volume 3. System Programming Guide</strong>). &#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; NMI &#1080;&#1084;&#1077;&#1077;&#1090; &#1085;&#1086;&#1084;&#1077;&#1088; 2 &#1074; &#1090;&#1072;&#1073;&#1083;&#1080;&#1094;&#1077; &#1074;&#1077;&#1082;&#1090;&#1086;&#1088;&#1086;&#1074; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;. &#1053;&#1077;&#1089;&#1084;&#1086;&#1090;&#1088;&#1103; &#1085;&#1072; &#1085;&#1072;&#1079;&#1074;&#1072;&#1085;&#1080;&#1077;, &#1085;&#1077;&#1084;&#1072;&#1089;&#1082;&#1080;&#1088;&#1091;&#1077;&#1084;&#1099;&#1077; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1074;&#1089;&#1077;-&#1090;&#1072;&#1082;&#1080; &#1084;&#1086;&#1078;&#1085;&#1086; &#1086;&#1090;&#1082;&#1083;&#1102;&#1095;&#1080;&#1090;&#1100; &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1087;&#1086;&#1088;&#1090;&#1072; &#1074;&#1074;&#1086;&#1076;&#1072;-&#1074;&#1099;&#1074;&#1086;&#1076;&#1072; 0x70 (<a href="https://wiki.osdev.org/CMOS#Non-Maskable_Interrupts">CMOS controller</a>).</p>
<h2>&#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1080; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081;</h2>
<p>&#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &mdash; &#1101;&#1090;&#1086; &#1074; &#1086;&#1073;&#1097;&#1077;&#1084; &#1086;&#1073;&#1099;&#1095;&#1085;&#1072;&#1103; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1103;, &#1074;&#1087;&#1088;&#1086;&#1095;&#1077;&#1084; &#1077;&#1089;&#1090;&#1100; &#1087;&#1072;&#1088;&#1072; &#1086;&#1089;&#1086;&#1073;&#1077;&#1085;&#1085;&#1086;&#1089;&#1090;&#1077;&#1081;. &#1050;&#1086;&#1075;&#1076;&#1072; &#1074;&#1086;&#1079;&#1085;&#1080;&#1082;&#1072;&#1077;&#1090; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077;, &#1087;&#1088;&#1086;&#1094;&#1077;&#1089;&#1089;&#1086;&#1088; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1077;&#1090; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1077; &#1086;&#1089;&#1085;&#1086;&#1074;&#1085;&#1086;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099;. &#1055;&#1088;&#1080; &#1101;&#1090;&#1086;&#1084; &#1086;&#1085; &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1103;&#1077;&#1090; &#1074; &#1089;&#1090;&#1077;&#1082;&#1077; &#1072;&#1076;&#1088;&#1077;&#1089; &#1084;&#1072;&#1096;&#1080;&#1085;&#1085;&#1086;&#1081; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1099; &#1086;&#1089;&#1085;&#1086;&#1074;&#1085;&#1086;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099;, &#1085;&#1072; &#1082;&#1086;&#1090;&#1086;&#1088;&#1086;&#1081; &#1077;&#1084;&#1091; &#1087;&#1088;&#1080;&#1096;&#1083;&#1086;&#1089;&#1100; &#1087;&#1088;&#1077;&#1088;&#1074;&#1072;&#1090;&#1100;&#1089;&#1103; (&#1087;&#1072;&#1088;&#1072; CS:EIP), &#1089; &#1090;&#1077;&#1084;, &#1095;&#1090;&#1086;&#1073;&#1099; &#1087;&#1086;&#1089;&#1083;&#1077; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1082;&#1080; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1087;&#1088;&#1086;&#1076;&#1086;&#1083;&#1078;&#1080;&#1090;&#1100; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1077; &#1086;&#1089;&#1085;&#1086;&#1074;&#1085;&#1086;&#1081; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099; &#1089; &#1101;&#1090;&#1086;&#1081; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1099;. &#1045;&#1097;&#1077; &#1074; &#1089;&#1090;&#1077;&#1082;&#1077; &#1089;&#1086;&#1093;&#1088;&#1072;&#1085;&#1103;&#1077;&#1090;&#1089;&#1103; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1084;&#1086;&#1077; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088;&#1072; EFLAGS. &#1050;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072; &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1090;&#1072; &#1080;&#1079; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103; &#1076;&#1086;&#1083;&#1078;&#1085;&#1072; &#1074;&#1086;&#1089;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1090;&#1100; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088;&#1072; EFLAGS &#1080;&#1079; &#1089;&#1090;&#1077;&#1082;&#1072; &#1080; &#1087;&#1077;&#1088;&#1077;&#1087;&#1088;&#1099;&#1075;&#1085;&#1091;&#1090;&#1100; &#1086;&#1073;&#1088;&#1072;&#1090;&#1085;&#1086; &#1085;&#1072; &#1087;&#1088;&#1077;&#1088;&#1074;&#1072;&#1085;&#1085;&#1091;&#1102; &#1086;&#1089;&#1085;&#1086;&#1074;&#1085;&#1091;&#1102; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1091;. &#1069;&#1090;&#1072; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1072; &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1090;&#1072; &#1085;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090;&#1089;&#1103; <strong>IRETD</strong>.</p>
<p>&#1050;&#1088;&#1086;&#1084;&#1077; &#1090;&#1086;&#1075;&#1086;, &#1087;&#1088;&#1080; &#1074;&#1086;&#1079;&#1085;&#1080;&#1082;&#1085;&#1086;&#1074;&#1077;&#1085;&#1080;&#1080; &#1085;&#1077;&#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1093; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1081; &#1074; &#1089;&#1090;&#1077;&#1082; &#1087;&#1086;&#1084;&#1077;&#1097;&#1072;&#1077;&#1090;&#1089;&#1103; &#1090;&#1072;&#1082; &#1085;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084;&#1099;&#1081; &#1082;&#1086;&#1076; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080; &mdash; &#1077;&#1075;&#1086; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1076;&#1086;&#1083;&#1078;&#1077;&#1085; &#1074;&#1099;&#1090;&#1086;&#1083;&#1082;&#1085;&#1091;&#1090;&#1100; &#1080;&#1093; &#1089;&#1090;&#1077;&#1082;&#1072; &#1087;&#1077;&#1088;&#1077;&#1076; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1077;&#1084; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076;&#1099; IRETD. &#1050;&#1072;&#1082;&#1080;&#1077; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1087;&#1086;&#1084;&#1077;&#1097;&#1072;&#1102;&#1090; &#1074; &#1089;&#1090;&#1077;&#1082; &#1082;&#1086;&#1076; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080;, &#1072; &#1082;&#1072;&#1082;&#1080;&#1077; &#1085;&#1077;&#1090; &mdash; &#1089;&#1084;&#1086;&#1090;&#1088;&#1080;&#1090;&#1077; &#1074; Table 6-1. Protected-Mode Exceptions and Interrupts &#1088;&#1091;&#1082;&#1086;&#1074;&#1086;&#1076;&#1089;&#1090;&#1074;&#1072; [Intel-Volume3].</p>
<p>&#1054;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1080; &#1072;&#1087;&#1087;&#1072;&#1088;&#1072;&#1090;&#1085;&#1099;&#1093; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1076;&#1086;&#1083;&#1078;&#1085;&#1099; &#1087;&#1088;&#1080; &#1089;&#1074;&#1086;&#1077;&#1084; &#1079;&#1072;&#1074;&#1077;&#1088;&#1096;&#1077;&#1085;&#1080;&#1080; &#1087;&#1088;&#1086;&#1080;&#1079;&#1074;&#1086;&#1076;&#1080;&#1090;&#1100; &#1090;&#1072;&#1082; &#1085;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1084;&#1099;&#1081; &#1089;&#1073;&#1088;&#1086;&#1089; &#1086;&#1073;&#1077;&#1080;&#1093; &#1084;&#1080;&#1082;&#1088;&#1086;&#1089;&#1093;&#1077;&#1084; i8259A, &#1089;&#1086;&#1086;&#1073;&#1097;&#1072;&#1103; &#1080;&#1084;, &#1095;&#1090;&#1086; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1072;&#1085;&#1086;. &#1069;&#1090;&#1086; &#1076;&#1077;&#1083;&#1072;&#1077;&#1090;&#1089;&#1103; &#1079;&#1072;&#1087;&#1080;&#1089;&#1100;&#1102; &#1074; &#1080;&#1093; &#1088;&#1077;&#1075;&#1080;&#1089;&#1090;&#1088;&#1099; iSr &#1095;&#1080;&#1089;&#1083;&#1072; 0x20. &#1057;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1091;&#1102;&#1097;&#1080;&#1081; &#1082;&#1086;&#1076; &#1074; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1077; &#1087;&#1086;&#1084;&#1077;&#1097;&#1077;&#1085; &#1074; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1102; int_EOI, &#1080; &#1074;&#1089;&#1077; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082;&#1080; &#1072;&#1087;&#1087;&#1072;&#1088;&#1072;&#1090;&#1085;&#1099;&#1093; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1074; &#1082;&#1086;&#1085;&#1094;&#1077; &#1087;&#1088;&#1099;&#1075;&#1072;&#1102;&#1090; &#1085;&#1072; &#1101;&#1090;&#1091; &#1092;&#1091;&#1085;&#1082;&#1094;&#1080;&#1102;.</p>
<h3>General Protection Fault</h3>
<p>&#1048;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1077; &#1086;&#1073;&#1097;&#1077;&#1081; &#1079;&#1072;&#1097;&#1080;&#1090;&#1099; &#1074;&#1086;&#1079;&#1085;&#1080;&#1082;&#1072;&#1077;&#1090; &#1087;&#1088;&#1080; &#1085;&#1072;&#1088;&#1091;&#1096;&#1077;&#1085;&#1080;&#1080; &#1082;&#1086;&#1076;&#1086;&#1084; &#1086;&#1075;&#1088;&#1072;&#1085;&#1080;&#1095;&#1077;&#1085;&#1080;&#1081;, &#1079;&#1072;&#1076;&#1072;&#1074;&#1072;&#1077;&#1084;&#1099;&#1093; &#1077;&#1075;&#1086; &#1091;&#1088;&#1086;&#1074;&#1085;&#1077;&#1084; &#1087;&#1088;&#1080;&#1074;&#1080;&#1083;&#1077;&#1075;&#1080;&#1081;. &#1069;&#1090;&#1086; &#1084;&#1086;&#1078;&#1077;&#1090; &#1073;&#1099;&#1090;&#1100; &#1085;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088; &#1076;&#1086;&#1089;&#1090;&#1091;&#1087; &#1082; &#1087;&#1072;&#1084;&#1103;&#1090;&#1080; &#1054;&#1057; &#1080;&#1083;&#1080; &#1074;&#1099;&#1087;&#1086;&#1083;&#1085;&#1077;&#1085;&#1080;&#1077; &#1082;&#1086;&#1084;&#1072;&#1085;&#1076; in &#1080; out &#1087;&#1086;&#1083;&#1100;&#1079;&#1086;&#1074;&#1072;&#1090;&#1077;&#1083;&#1100;&#1089;&#1082;&#1080;&#1084; &#1082;&#1086;&#1076;&#1086;&#1084;. &#1042; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1077; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1101;&#1090;&#1086;&#1075;&#1086; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1103; &#1087;&#1088;&#1086;&#1089;&#1090;&#1086; &#1074;&#1099;&#1074;&#1086;&#1076;&#1080;&#1090; &#1085;&#1072; &#1101;&#1082;&#1088;&#1072;&#1085; &#1089;&#1086;&#1086;&#1073;&#1097;&#1077;&#1085;&#1080;&#1077; &laquo;General Protection Exception&raquo;. &#1042; &#1101;&#1090;&#1086;&#1084; &#1080;&#1089;&#1082;&#1083;&#1102;&#1095;&#1077;&#1085;&#1080;&#1080; &#1077;&#1089;&#1090;&#1100; &#1082;&#1086;&#1076; &#1086;&#1096;&#1080;&#1073;&#1082;&#1080;, &#1087;&#1086;&#1101;&#1090;&#1086;&#1084;&#1091; &#1086;&#1073;&#1088;&#1072;&#1073;&#1086;&#1090;&#1095;&#1080;&#1082; &#1074;&#1099;&#1090;&#1072;&#1083;&#1082;&#1080;&#1074;&#1072;&#1077;&#1090; &#1077;&#1075;&#1086; &#1080;&#1079; &#1089;&#1090;&#1077;&#1082;&#1072; (pop eax).</p>
<h3>&#1055;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077; &#1086;&#1090; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1085;&#1086;&#1075;&#1086; &#1090;&#1072;&#1081;&#1084;&#1077;&#1088;&#1072;</h3>
<p>&#1055;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077; &#1086;&#1090; &#1089;&#1080;&#1089;&#1090;&#1077;&#1084;&#1085;&#1086;&#1075;&#1086; &#1090;&#1072;&#1081;&#1084;&#1077;&#1088;&#1072; &#1087;&#1088;&#1086;&#1080;&#1089;&#1093;&#1086;&#1076;&#1080;&#1090; &#1089; &#1095;&#1072;&#1089;&#1090;&#1086;&#1090;&#1086;&#1081; 18 &#1088;&#1072;&#1079; &#1074; &#1089;&#1077;&#1082;&#1091;&#1085;&#1076;&#1091;. &#1053;&#1072; &#1085;&#1077;&#1084; &#1084;&#1086;&#1078;&#1085;&#1086; &#1087;&#1086;&#1089;&#1090;&#1088;&#1086;&#1080;&#1090;&#1100; &#1080;&#1079;&#1084;&#1077;&#1088;&#1077;&#1085;&#1080;&#1077; &#1074;&#1088;&#1077;&#1084;&#1077;&#1085;&#1080;, &#1082;&#1072;&#1082; &#1101;&#1090;&#1086; &#1089;&#1076;&#1077;&#1083;&#1072;&#1085;&#1086; &#1074; &#1082;&#1085;&#1080;&#1075;&#1077; [&#1040;&#1073;&#1083;&#1103;&#1079;&#1086;&#1074;], &#1085;&#1086; &#1103; &#1088;&#1077;&#1096;&#1080;&#1083; &#1091;&#1087;&#1088;&#1086;&#1089;&#1090;&#1080;&#1090;&#1100; &#1076;&#1077;&#1083;&#1086; &#1080; &#1087;&#1088;&#1086;&#1089;&#1090;&#1086; &#1074;&#1099;&#1074;&#1086;&#1078;&#1091; &#1074; &#1087;&#1088;&#1072;&#1074;&#1099;&#1081; &#1074;&#1077;&#1088;&#1093;&#1085;&#1080;&#1081; &#1091;&#1075;&#1086;&#1083; &#1101;&#1082;&#1088;&#1072;&#1085;&#1072; &#1082;&#1086;&#1089;&#1091;&#1102; &#1095;&#1077;&#1088;&#1090;&#1086;&#1095;&#1082;&#1091;, &#1082;&#1072;&#1078;&#1076;&#1091;&#1102; &#1089;&#1077;&#1082;&#1091;&#1085;&#1076;&#1091; &#1084;&#1077;&#1085;&#1103;&#1103; &#1077;&#1077; &#1085;&#1072;&#1087;&#1088;&#1072;&#1074;&#1083;&#1077;&#1085;&#1080;&#1077; (&#1089; \ &#1085;&#1072; / &#1080; &#1086;&#1073;&#1088;&#1072;&#1090;&#1085;&#1086;). &#1044;&#1083;&#1103; &#1087;&#1086;&#1076;&#1089;&#1095;&#1077;&#1090;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1081; &#1086;&#1090; &#1090;&#1072;&#1081;&#1084;&#1077;&#1088;&#1072; &#1080;&#1089;&#1087;&#1086;&#1083;&#1100;&#1079;&#1091;&#1077;&#1090;&#1089;&#1103; &#1075;&#1083;&#1086;&#1073;&#1072;&#1083;&#1100;&#1085;&#1072;&#1103; &#1087;&#1077;&#1088;&#1077;&#1084;&#1077;&#1085;&#1085;&#1072;&#1103; timer_counter.</p>
<h3>&#1055;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1077; &#1086;&#1090; &#1082;&#1086;&#1085;&#1090;&#1088;&#1086;&#1083;&#1083;&#1077;&#1088;&#1072; &#1082;&#1083;&#1072;&#1074;&#1080;&#1072;&#1090;&#1091;&#1088;&#1099;</h3>
<p>&#1058;&#1077;&#1084;&#1072; &#1088;&#1072;&#1073;&#1086;&#1090;&#1099; &#1089; &#1082;&#1083;&#1072;&#1074;&#1080;&#1072;&#1090;&#1091;&#1088;&#1086;&#1081; &#1089;&#1072;&#1084;&#1072; &#1087;&#1086; &#1089;&#1077;&#1073;&#1077; &#1076;&#1086;&#1089;&#1090;&#1072;&#1090;&#1086;&#1095;&#1085;&#1086; &#1073;&#1086;&#1083;&#1100;&#1096;&#1072;&#1103;, &#1087;&#1086;&#1101;&#1090;&#1086;&#1084;&#1091; &#1103; &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1083; &#1086;&#1073; &#1101;&#1090;&#1086;&#1084; <a href="http://localhost/at-ps2-keyboard/">&#1086;&#1090;&#1076;&#1077;&#1083;&#1100;&#1085;&#1091;&#1102; &#1079;&#1072;&#1084;&#1077;&#1090;&#1082;&#1091;</a>.</p>
<h2>&#1048;&#1089;&#1093;&#1086;&#1076;&#1085;&#1099;&#1081; &#1082;&#1086;&#1076; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099; &#1074; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1085;&#1086;&#1084; &#1088;&#1077;&#1078;&#1080;&#1084;&#1077;</h2>
<p>&#1053;&#1080;&#1078;&#1077; &#1087;&#1088;&#1080;&#1074;&#1077;&#1076;&#1077;&#1085; &#1087;&#1086;&#1083;&#1085;&#1099;&#1081; &#1082;&#1086;&#1076; &#1092;&#1072;&#1081;&#1083;&#1072; <strong>protected_mode.inc</strong>:</p>
<div class="codecolorer-container asm default" style="overflow:auto;white-space:nowrap;"><div class="asm codecolorer"><span class="co1">; protected_mode.inc</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> protected_mode_code<br>
<br>
<span class="co1">; -------------------------------------------- DATA ------------------------------------------------------------</span><br>
pm_message <span class="kw5">db</span> <span class="st0">'Hello from protected mode! You can type something. Pressing Esc clears the screen.'</span><span class="sy1">,</span> <span class="nu0">0</span><br>
gp_message <span class="kw5">db</span> <span class="st0">'General Protection Exception'</span><span class="sy1">,</span> <span class="nu0">0</span><br>
<br>
<span class="co1">; counter being incremented at each interrupt from the system timer</span><br>
timer_counter <span class="kw5">dd</span> <span class="nu0">0</span><br>
<br>
<span class="co1">; cursor position (0...1999). initial value of 160 places the cursor to the 4th row on the screen.</span><br>
cursor <span class="kw5">dd</span> <span class="nu0">240</span><br>
<br>
<span class="co1">; -------------------------------------------- INTERRUPT DESCRIPTOR TABLE --------------------------------------</span><br>
<span class="kw5">align</span> <span class="nu0">8</span><br>
idt<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 0 &nbsp; &nbsp;#DE &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code No &nbsp; &nbsp; Divide Error</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 1 &nbsp; &nbsp;#DB &nbsp; Fault/Trap &nbsp; Error code No &nbsp; &nbsp; Debug Exception (For Intel use only)</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 2 &nbsp; &nbsp; - &nbsp; &nbsp;Interrupt &nbsp; &nbsp;Error code No &nbsp; &nbsp; Nonmaskable external interrupt</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 3 &nbsp; &nbsp;#BP &nbsp; Trap &nbsp; &nbsp; &nbsp; &nbsp; Error code No &nbsp; &nbsp; Breakpoint</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 4 &nbsp; &nbsp;#OF &nbsp; Trap &nbsp; &nbsp; &nbsp; &nbsp; Error code No &nbsp; &nbsp; Overflow</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 5 &nbsp; &nbsp;#BR &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code No &nbsp; &nbsp; BOUND Range Exceeded</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 6 &nbsp; &nbsp;#UD &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code No &nbsp; &nbsp; Invalid Opcode (Undefined Opcode)</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 7 &nbsp; &nbsp;#NM &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code No &nbsp; &nbsp; Device Not Available (No Math Coprocessor)</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 8 &nbsp; &nbsp;#DF &nbsp; Abort &nbsp; &nbsp; &nbsp; &nbsp;Error code Zero &nbsp; Double Fault</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 9 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code Yes &nbsp; &nbsp;Coprocessor Segment Overrun (reserved)</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 10 &nbsp; #TS &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code Yes &nbsp; &nbsp;Invalid TSS</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 11 &nbsp; #NP &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code Yes &nbsp; &nbsp;Segment Not Present</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 12 &nbsp; #SS &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code Yes &nbsp; &nbsp;Stack-Segment Fault</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> exGP_handler<span class="co1">; 13 &nbsp; #GP &nbsp; Fault &nbsp; Error code Yes &nbsp; General Protection</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 14 &nbsp; #PF &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code Yes &nbsp; &nbsp;Page Fault &nbsp; </span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 15 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Error code No &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 16 &nbsp; </span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 17 &nbsp; #MF &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code No &nbsp; &nbsp; x87 FPU Floating-Point Error (Math Fault)</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 18 &nbsp; #MC &nbsp; Abort &nbsp; &nbsp; &nbsp; &nbsp;Error code No &nbsp; &nbsp; Machine Check</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 19 &nbsp; #XM &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code No &nbsp; &nbsp; SIMD Floating-Point Exception</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 20 &nbsp; #VE &nbsp; Fault &nbsp; &nbsp; &nbsp; &nbsp;Error code No &nbsp; &nbsp; Virtualization Exception</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 21 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 22 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 23 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 24 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 25 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 26 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 27 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 28 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 29 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 30 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="kw5">dq</span> <span class="nu0">0</span> <span class="co1">; 31 &nbsp; &nbsp;- &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intel reserved. Do not use.</span><br>
&nbsp; &nbsp; <span class="co1">; --- Master PIC ---</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> irq0_handler <span class="co1">; 32 &nbsp; &nbsp;IRQ 0 &nbsp; &nbsp;System timer</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> irq1_handler <span class="co1">; 33 &nbsp; &nbsp;IRQ 1 &nbsp; &nbsp;Keyboard controller</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 34 &nbsp; &nbsp;IRQ 2 &nbsp; &nbsp;Cascaded signals from IRQs 8&ndash;15 (from slave PIC)</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 35 &nbsp; &nbsp;IRQ 3 &nbsp; &nbsp;Serial port controller for serial port 2 (shared with serial port 4, if present)</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 36 &nbsp; &nbsp;IRQ 4 &nbsp; &nbsp;Serial port controller for serial port 1 (shared with serial port 3, if present)</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 37 &nbsp; &nbsp;IRQ 5 &nbsp; &nbsp;Parallel port 2 and 3 &nbsp;or &nbsp;sound card</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 38 &nbsp; &nbsp;IRQ 6 &nbsp; &nbsp;Floppy disk controller</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 39 &nbsp; &nbsp;IRQ 7 &nbsp; &nbsp;Parallel port 1. It is used for printers or for any parallel port if a printer is not present.</span><br>
&nbsp; &nbsp; <span class="co1">; --- Slave PIC ----</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 40 &nbsp; &nbsp;IRQ 8 &nbsp; &nbsp;Real-time clock (RTC)</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 41 &nbsp; &nbsp;IRQ 9 &nbsp; &nbsp;Advanced Configuration and Power Interface (ACPI) system control interrupt on Intel chipsets</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 42 &nbsp; &nbsp;IRQ 10 &nbsp; The Interrupt is left open for the use of peripherals</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 43 &nbsp; &nbsp;IRQ 11 &nbsp; The Interrupt is left open for the use of peripherals</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 44 &nbsp; &nbsp;IRQ 12 &nbsp; Mouse on PS/2 connector</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 45 &nbsp; &nbsp;IRQ 13 &nbsp; CPU co-processor &nbsp;or &nbsp;integrated floating point unit &nbsp;or &nbsp;inter-processor interrupt</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 46 &nbsp; &nbsp;IRQ 14 &nbsp; Primary ATA channel (ATA interface usually serves hard disk drives and CD drives)</span><br>
&nbsp; &nbsp; INTERRUPT_GATE_DESCRIPTOR CODE_SELECTOR<span class="sy1">,</span> int_EOI &nbsp; &nbsp; &nbsp;<span class="co1">; 47 &nbsp; &nbsp;IRQ 15 &nbsp; Secondary ATA channel</span><br>
<br>
idt_size = <span class="sy2">$</span> <span class="sy1">-</span> idt<br>
&nbsp; &nbsp;<br>
idtr<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw5">dw</span> idt_size <span class="sy1">-</span> <span class="nu0">1</span> <span class="co1">; 16-bit limit of the interrupt descriptor table</span><br>
&nbsp; &nbsp; <span class="kw5">dd</span> idt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="co1">; 32-bit base address of the interrupt descriptor table</span><br>
<br>
<span class="co1">; -------------------------------------------- CODE ------------------------------------------------------------</span><br>
include <span class="st0">'pm_utility_functions.inc'</span><br>
include <span class="st0">'keyboard.inc'</span><br>
<br>
protected_mode_code<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw6">word</span> <span class="nu0">1</span> <span class="co1">; row</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw6">word</span> <span class="nu0">0</span> <span class="co1">; column</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> pm_message<br>
&nbsp; &nbsp; <span class="kw1">call</span> PrintString<br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Disable scan-code translation to set2</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw6">word</span> KEYBOARD_CONTROLLER_COMMAND_READ_COMMAND_BYTE<br>
&nbsp; &nbsp; <span class="kw1">call</span> Keyboard_SendCommand<br>
&nbsp; &nbsp; <span class="kw1">call</span> Keyboard_ReadOutputBuffer<br>
&nbsp; &nbsp; <span class="kw1">and</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="kw1">not</span> KEYBOARD_COMMAND_BYTE_XLAT<br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw6">word</span> KEYBOARD_CONTROLLER_COMMAND_WRITE_COMMAND_BYTE<br>
&nbsp; &nbsp; <span class="kw1">call</span> Keyboard_SendCommand<br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">ax</span><br>
&nbsp; &nbsp; <span class="kw1">call</span> Keyboard_WriteInputBuffer<br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Disable keyboard</span><br>
&nbsp; &nbsp; <span class="co1">;push word KEYBOARD_COMMAND_DISABLE</span><br>
&nbsp; &nbsp; <span class="co1">;call Keyboard_WriteInputBuffer</span><br>
&nbsp; &nbsp; <span class="co1">;call Keyboard_ReadOutputBuffer</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Enable keyboard</span><br>
&nbsp; &nbsp; <span class="co1">;push word KEYBOARD_COMMAND_ENABLE</span><br>
&nbsp; &nbsp; <span class="co1">;call Keyboard_WriteInputBuffer</span><br>
&nbsp; &nbsp; <span class="co1">;call Keyboard_ReadOutputBuffer</span><br>
<br>
&nbsp; &nbsp; <span class="co1">; Load IDTR register</span><br>
&nbsp; &nbsp; <span class="kw1">lidt</span> <span class="br0">[</span>idtr<span class="br0">]</span><br>
<br>
&nbsp; &nbsp; <span class="co1">; Initialize Programmable Interrupt Controller (PIC)</span><br>
&nbsp; &nbsp; iSr_master <span class="kw5">equ</span> <span class="nu0">0x20</span><br>
&nbsp; &nbsp; iMr_master <span class="kw5">equ</span> <span class="nu0">0x21</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; iSr_slave <span class="kw5">equ</span> <span class="nu0">0xA0</span> &nbsp; &nbsp;<br>
&nbsp; &nbsp; iMr_slave <span class="kw5">equ</span> <span class="nu0">0xA1</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; &lt;-------- master i8259A PIC initialization --------</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">00010001b</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iSr_master<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Define interrupt vector for the 0th line of PIC</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x20</span> <span class="co1">; (interrupt vector No 32)</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iMr_master<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Bit mask defines the line of master i8259A to which slave i8259A is connected</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">00000100b</span> <span class="co1">; (line No 2)</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iMr_master<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">00000001b</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iMr_master<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <span class="co1">; --------------------------------------------------&gt;</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; &lt;-------- slave i8259A PIC initialization ---------</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">00010001b</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iSr_slave<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Define interrupt vector for the 0th line of PIC</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x28</span> <span class="co1">; (interrupt vector No 40)</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iMr_slave<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Defines the line number through which slave i8259A is connected to master i8259A</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">00000010b</span> <span class="co1">; (line No 2)</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iMr_slave<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">00000001b</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iMr_slave<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <span class="co1">; --------------------------------------------------&gt;</span><br>
<br>
&nbsp; &nbsp; <span class="co1">; Enable non-maskable interrupts (NMIs)</span><br>
&nbsp; &nbsp; <span class="kw1">in</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x70</span> <span class="co1">; CMOS register</span><br>
&nbsp; &nbsp; <span class="kw1">and</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x7F</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> <span class="nu0">0x70</span><span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Enable maskable interrupts</span><br>
&nbsp; &nbsp; <span class="kw1">sti</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; Infinite loop</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> <span class="sy2">$</span><br>
<br>
<span class="co1">; -------------------------------------------- INTERRUPT HANDLERS ----------------------------------------------</span><br>
<span class="co1">; ---- End of Interrupt -----------</span><br>
int_EOI<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">ax</span><br>
&nbsp; &nbsp; <span class="co1">; Reset interrupt controllers</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x20</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iSr_master<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <span class="kw1">out</span> iSr_slave<span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <span class="kw1">pop</span> <span class="kw4">ax</span><br>
&nbsp; &nbsp; <span class="kw1">iretd</span><br>
<br>
<span class="co1">; ---- General Protection Fault ---</span><br>
exGP_handler<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">pop</span> &nbsp;<span class="kw4">eax</span> <span class="co1">; pop error code</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="nu0">0</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="nu0">0</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> gp_message<br>
&nbsp; &nbsp; <span class="kw1">call</span> PrintString<br>
&nbsp; &nbsp; <span class="kw1">iretd</span> &nbsp; &nbsp; &nbsp; <br>
<br>
<span class="co1">; ---- System Timer ---------------</span><br>
irq0_handler<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw6">byte</span> <span class="br0">[</span><span class="kw4">es</span><span class="sy1">:</span><span class="nu0">159</span><span class="br0">]</span><span class="sy1">,</span> <span class="nu0">0x07</span><br>
&nbsp; &nbsp; <span class="kw1">inc</span> <span class="kw6">byte</span> <span class="br0">[</span>timer_counter<span class="br0">]</span> &nbsp; &nbsp;<br>
&nbsp; &nbsp; <span class="kw1">cmp</span> <span class="kw6">byte</span> <span class="br0">[</span>timer_counter<span class="br0">]</span><span class="sy1">,</span> <span class="nu0">18</span><br>
&nbsp; &nbsp; <span class="kw1">jz</span> @f<br>
&nbsp; &nbsp; <span class="kw1">jmp</span> int_EOI<br>
@@<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw6">byte</span> <span class="br0">[</span>timer_counter<span class="br0">]</span><span class="sy1">,</span> <span class="nu0">0</span><br>
&nbsp; &nbsp; <span class="kw1">cmp</span> <span class="kw6">byte</span> <span class="br0">[</span><span class="kw4">es</span><span class="sy1">:</span><span class="nu0">158</span><span class="br0">]</span><span class="sy1">,</span> <span class="st0">'/'</span><br>
&nbsp; &nbsp; <span class="kw1">jz</span> @f<br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw6">byte</span> <span class="br0">[</span><span class="kw4">es</span><span class="sy1">:</span><span class="nu0">158</span><span class="br0">]</span><span class="sy1">,</span> <span class="st0">'/'</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> int_EOI<br>
@@<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw6">byte</span> <span class="br0">[</span><span class="kw4">es</span><span class="sy1">:</span><span class="nu0">158</span><span class="br0">]</span><span class="sy1">,</span> <span class="st0">'\'</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> int_EOI<br>
<br>
KEYBOARD_KEY_IS_SPECIAL_FLAG <span class="kw5">equ</span> <span class="nu0">00000001b</span><br>
KEYBOARD_KEY_IS_BREAK_FLAG &nbsp; <span class="kw5">equ</span> <span class="nu0">00000010b</span><br>
scan_code_flags <span class="kw5">db</span> <span class="nu0">0</span><br>
<span class="co1">; ---- Keyboard Controller --------</span><br>
irq1_handler<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">ax</span><br>
&nbsp; &nbsp; <span class="kw1">push</span> <span class="kw4">edi</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">in</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0x60</span><br>
<br>
<span class="co1">; &lt;----------------------------------------------</span><br>
&nbsp; &nbsp; <span class="co1">;if(al == KEYBOARD_SPECIAL_KEY)</span><br>
&nbsp; &nbsp; <span class="co1">;{</span><br>
&nbsp; &nbsp; <span class="co1">; &nbsp; &nbsp;scan_code_flags |= KEYBOARD_KEY_IS_SPECIAL_FLAG;</span><br>
&nbsp; &nbsp; <span class="co1">; &nbsp; &nbsp;return;</span><br>
&nbsp; &nbsp; <span class="co1">;}</span><br>
&nbsp; &nbsp; <span class="co1">;else if(al == KEYBOARD_BREAK_KEY)</span><br>
&nbsp; &nbsp; <span class="co1">;{</span><br>
&nbsp; &nbsp; <span class="co1">; &nbsp; &nbsp;scan_code_flags |= KEYBOARD_KEY_IS_BREAK_FLAG;</span><br>
&nbsp; &nbsp; <span class="co1">; &nbsp; &nbsp;return;</span><br>
&nbsp; &nbsp; <span class="co1">;}</span><br>
&nbsp; &nbsp; <span class="co1">;else if((scan_code_flags &amp; KEYBOARD_KEY_IS_SPECIAL_FLAG) != 0 || (scan_code_flags &amp; KEYBOARD_KEY_IS_BREAK_FLAG) != 0)</span><br>
&nbsp; &nbsp; <span class="co1">;{</span><br>
&nbsp; &nbsp; <span class="co1">; &nbsp; &nbsp;scan_code_flags = 0;</span><br>
&nbsp; &nbsp; <span class="co1">; &nbsp; &nbsp;return;</span><br>
&nbsp; &nbsp; <span class="co1">;}</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="kw1">cmp</span> <span class="kw4">al</span><span class="sy1">,</span> KEYBOARD_SPECIAL_KEY<br>
&nbsp; &nbsp; <span class="kw1">jnz</span> @f<br>
&nbsp; &nbsp; <span class="kw1">or</span> <span class="kw6">byte</span> <span class="br0">[</span>scan_code_flags<span class="br0">]</span><span class="sy1">,</span> KEYBOARD_KEY_IS_SPECIAL_FLAG<br>
&nbsp; &nbsp; <span class="kw1">jmp</span> <span class="sy1">.</span>exit<br>
@@<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">cmp</span> <span class="kw4">al</span><span class="sy1">,</span> KEYBOARD_BREAK_KEY<br>
&nbsp; &nbsp; <span class="kw1">jnz</span> @f<br>
&nbsp; &nbsp; <span class="kw1">or</span> <span class="kw6">byte</span> <span class="br0">[</span>scan_code_flags<span class="br0">]</span><span class="sy1">,</span> KEYBOARD_KEY_IS_BREAK_FLAG<br>
&nbsp; &nbsp; <span class="kw1">jmp</span> <span class="sy1">.</span>exit<br>
@@<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">test</span> <span class="br0">[</span>scan_code_flags<span class="br0">]</span><span class="sy1">,</span> KEYBOARD_KEY_IS_SPECIAL_FLAG<br>
&nbsp; &nbsp; <span class="kw1">jz</span> @f<br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="br0">[</span>scan_code_flags<span class="br0">]</span><span class="sy1">,</span> <span class="nu0">0</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> <span class="sy1">.</span>exit<br>
@@<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">test</span> <span class="br0">[</span>scan_code_flags<span class="br0">]</span><span class="sy1">,</span> KEYBOARD_KEY_IS_BREAK_FLAG<br>
&nbsp; &nbsp; <span class="kw1">jz</span> @f<br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="br0">[</span>scan_code_flags<span class="br0">]</span><span class="sy1">,</span> <span class="nu0">0</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> <span class="sy1">.</span>exit<br>
<span class="co1">; ----------------------------------------------&gt;</span><br>
&nbsp; &nbsp; <br>
@@<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="co1">; convert scan-code to ASCII-code</span><br>
&nbsp; &nbsp; <span class="kw1">dec</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <span class="kw1">movzx</span> <span class="kw4">edi</span><span class="sy1">,</span> <span class="kw4">al</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="br0">[</span><span class="kw4">edi</span><span class="sy1">+</span>SCAN_CODE_SET2<span class="br0">]</span><br>
&nbsp; &nbsp; <span class="kw1">cmp</span> <span class="kw4">al</span><span class="sy1">,</span> <span class="nu0">0</span><br>
&nbsp; &nbsp; <span class="kw1">jz</span> <span class="sy1">.</span>exit<br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; print symbol on the screen</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">ah</span><span class="sy1">,</span> <span class="nu0">0x07</span> <span class="co1">; symbol attribute (light gray on black)</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw4">edi</span><span class="sy1">,</span> <span class="br0">[</span>cursor<span class="br0">]</span><br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="br0">[</span><span class="kw4">es</span><span class="sy1">:</span><span class="kw4">edi</span><span class="sy1">*</span><span class="nu0">2</span><span class="br0">]</span><span class="sy1">,</span> <span class="kw4">ax</span><br>
&nbsp; &nbsp; <br>
&nbsp; &nbsp; <span class="co1">; advance cursor position (if(++cursor &gt;= 2000) cursor = 0;)</span><br>
&nbsp; &nbsp; <span class="kw1">inc</span> <span class="kw6">dword</span> <span class="br0">[</span>cursor<span class="br0">]</span><br>
&nbsp; &nbsp; <span class="kw1">cmp</span> <span class="kw6">dword</span> <span class="br0">[</span>cursor<span class="br0">]</span><span class="sy1">,</span> <span class="nu0">2000</span><br>
&nbsp; &nbsp; <span class="kw1">jb</span> <span class="sy1">.</span>exit<br>
&nbsp; &nbsp; <span class="kw1">mov</span> <span class="kw6">dword</span> <span class="br0">[</span>cursor<span class="br0">]</span><span class="sy1">,</span> <span class="nu0">0</span><br>
<br>
<span class="sy1">.</span>exit<span class="sy1">:</span><br>
&nbsp; &nbsp; <span class="kw1">pop</span> &nbsp;<span class="kw4">edi</span><br>
&nbsp; &nbsp; <span class="kw1">pop</span> &nbsp;<span class="kw4">ax</span><br>
&nbsp; &nbsp; <span class="kw1">jmp</span> &nbsp;int_EOI</div></div>
<h2>Makefile</h2>
<p>&#1053;&#1072;&#1082;&#1086;&#1085;&#1077;&#1094;, &#1074;&#1086;&#1090; makefile &#1076;&#1083;&#1103; &#1087;&#1086;&#1089;&#1090;&#1088;&#1086;&#1077;&#1085;&#1080;&#1103; &#1087;&#1088;&#1086;&#1075;&#1088;&#1072;&#1084;&#1084;&#1099;:</p>
<div class="codecolorer-container make default" style="overflow:auto;white-space:nowrap;"><div class="make codecolorer"><span class="co1"># makefile</span><br>
all<span class="sy0">:</span> floppy<span class="sy0">.</span>img boot_sector<span class="sy0">.</span>lst<br>
<br>
floppy<span class="sy0">.</span>img <span class="sy0">:</span> boot_sector<span class="sy0">.</span>bin<br>
&nbsp; &nbsp; dd if<span class="sy0">=</span><span class="st0">&quot;/dev/zero&quot;</span> of<span class="sy0">=</span><span class="st0">&quot;floppy.img&quot;</span> bs<span class="sy0">=</span><span class="nu0">1024</span> count<span class="sy0">=</span><span class="nu0">1440</span><br>
&nbsp; &nbsp; dd if<span class="sy0">=</span>boot_sector<span class="sy0">.</span>bin of<span class="sy0">=</span>floppy<span class="sy0">.</span>img conv<span class="sy0">=</span>notrunc<br>
<br>
boot_sector<span class="sy0">.</span>bin <span class="sy0">:</span> boot_sector<span class="sy0">.</span>asm bios_services<span class="sy0">.</span>inc descriptor_macros<span class="sy0">.</span>inc protected_mode<span class="sy0">.</span>inc pm_utility_functions<span class="sy0">.</span>inc keyboard<span class="sy0">.</span>inc<br>
&nbsp; &nbsp; fasm boot_sector<span class="sy0">.</span>asm boot_sector<span class="sy0">.</span>bin<br>
<br>
boot_sector<span class="sy0">.</span>lst<span class="sy0">:</span> boot_sector<span class="sy0">.</span>fas<br>
&nbsp; &nbsp; listing <span class="sy0">-</span>a boot_sector<span class="sy0">.</span>fas boot_sector<span class="sy0">.</span>lst<br>
<br>
boot_sector<span class="sy0">.</span>fas<span class="sy0">:</span> boot_sector<span class="sy0">.</span>asm bios_services<span class="sy0">.</span>inc descriptor_macros<span class="sy0">.</span>inc protected_mode<span class="sy0">.</span>inc pm_utility_functions<span class="sy0">.</span>inc keyboard<span class="sy0">.</span>inc<br>
&nbsp; &nbsp; fasm boot_sector<span class="sy0">.</span>asm <span class="sy0">-</span>s boot_sector<span class="sy0">.</span>fas</div></div>
			</div><!-- .entry-content -->

	<footer class="entry-footer">
		<span class="cat-links"><a href="/blog/category/%d0%b1%d0%b5%d0%b7-%d1%80%d1%83%d0%b1%d1%80%d0%b8%d0%ba%d0%b8/" rel="category tag">&#1041;&#1077;&#1079; &#1088;&#1091;&#1073;&#1088;&#1080;&#1082;&#1080;</a></span><span class="tags-links"><a href="/blog/tag/assembler/" rel="tag">Assembler</a>, <a href="/blog/tag/x86/" rel="tag">x86</a></span>	</footer><!-- .entry-footer -->
</article><!-- #post-## -->


			
	<nav class="navigation post-navigation" aria-label="&#1047;&#1072;&#1087;&#1080;&#1089;&#1080;">
		<h2 class="screen-reader-text">&#1053;&#1072;&#1074;&#1080;&#1075;&#1072;&#1094;&#1080;&#1103; &#1087;&#1086; &#1079;&#1072;&#1087;&#1080;&#1089;&#1103;&#1084;</h2>
		<div class="nav-links"><div class="nav-previous"><a href="/blog/2018/03/11/c-cpp-cygwin/" rel="prev">C/C++ &#1074; Cygwin</a></div><div class="nav-next"><a href="/blog/2018/04/22/at-ps2-keyboard/" rel="next">&#1056;&#1072;&#1073;&#1086;&#1090;&#1072; &#1089; &#1082;&#1083;&#1072;&#1074;&#1080;&#1072;&#1090;&#1091;&#1088;&#1086;&#1081; AT &#1080; PS/2</a></div></div>
	</nav>
			
<div id="comments" class="comments-area">

	
			<h2 class="comments-title">
			2 &#1082;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1103; &#1076;&#1083;&#1103; &ldquo;&#1048;&#1079;&#1091;&#1095;&#1072;&#1077;&#1084; &#1072;&#1088;&#1093;&#1080;&#1090;&#1077;&#1082;&#1090;&#1091;&#1088;&#1091; Intel x86-64 &#1087;&#1088;&#1080; &#1087;&#1086;&#1084;&#1086;&#1097;&#1080; &#1072;&#1089;&#1089;&#1077;&#1084;&#1073;&#1083;&#1077;&#1088;&#1072; (&#1063;&#1072;&#1089;&#1090;&#1100; 5 &mdash; &#1055;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;)&rdquo;		</h2>

		
		<ol class="comment-list">
					<li id="comment-5" class="comment even thread-even depth-1">
			<article id="div-comment-5" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt="" src="https://secure.gravatar.com/avatar/f09e32234df0fda313eef984fcbf9b54a1aa9e4e8f9107fac1f92cd0d1ef588f?s=32&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/f09e32234df0fda313eef984fcbf9b54a1aa9e4e8f9107fac1f92cd0d1ef588f?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" decoding="async">						<b class="fn">&#1044;&#1077;&#1085;&#1080;&#1089;</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="/blog/2018/04/22/study-intel-part5/#comment-5"><time datetime="2020-08-21T01:52:39+03:00">21.08.2020 &#1074; 01:52</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>&#1047;&#1076;&#1088;&#1072;&#1074;&#1089;&#1090;&#1074;&#1091;&#1081;&#1090;&#1077;. &#1057; &#1091;&#1076;&#1086;&#1074;&#1086;&#1083;&#1100;&#1089;&#1090;&#1074;&#1080;&#1077;&#1084; &#1087;&#1088;&#1086;&#1095;&#1077;&#1083; &#1094;&#1080;&#1082;&#1083; &#1042;&#1072;&#1096;&#1080;&#1093; &#1089;&#1090;&#1072;&#1090;&#1077;&#1081;, &#1090;&#1072;&#1082; &#1082;&#1072;&#1082; &#1087;&#1086;&#1090;&#1088;&#1077;&#1073;&#1086;&#1074;&#1072;&#1083;&#1086;&#1089;&#1100; &laquo;&#1089; &#1085;&#1091;&#1083;&#1103;&raquo; &#1085;&#1072;&#1087;&#1080;&#1089;&#1072;&#1090;&#1100; &#1085;&#1077;&#1095;&#1090;&#1086; &#1087;&#1086;&#1093;&#1086;&#1078;&#1077;&#1077;. &#1071; &#1087;&#1088;&#1072;&#1074;&#1080;&#1083;&#1100;&#1085;&#1086; &#1087;&#1086;&#1085;&#1080;&#1084;&#1072;&#1102;, &#1095;&#1090;&#1086; &#1085;&#1072; &#1087;&#1088;&#1077;&#1088;&#1099;&#1074;&#1072;&#1085;&#1080;&#1103;&#1093; &#1080; &#1082;&#1083;&#1072;&#1074;&#1080;&#1072;&#1090;&#1091;&#1088;&#1077; &#1042;&#1099; &#1080; &#1086;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1083;&#1080;&#1089;&#1100;?</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/blog/2018/04/22/study-intel-part5/?replytocom=5#respond" data-commentid="5" data-postid="394" data-belowelement="div-comment-5" data-respondelement="respond" data-replyto="&#1050;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1081; &#1082; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1044;&#1077;&#1085;&#1080;&#1089;" aria-label="&#1050;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1081; &#1082; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; &#1044;&#1077;&#1085;&#1080;&#1089;">&#1054;&#1090;&#1074;&#1077;&#1090;&#1080;&#1090;&#1100;</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		<li id="comment-6" class="comment byuser comment-author-dvsav bypostauthor odd alt thread-odd thread-alt depth-1">
			<article id="div-comment-6" class="comment-body">
				<footer class="comment-meta">
					<div class="comment-author vcard">
						<img alt="" src="https://secure.gravatar.com/avatar/0ff6a93a5788f14d8c7bdcbdca6fd630ad53079a4908a557910fd5124c193b7e?s=32&amp;d=mm&amp;r=g" srcset="https://secure.gravatar.com/avatar/0ff6a93a5788f14d8c7bdcbdca6fd630ad53079a4908a557910fd5124c193b7e?s=64&amp;d=mm&amp;r=g 2x" class="avatar avatar-32 photo" height="32" width="32" decoding="async">						<b class="fn">dvsav</b><span class="says">:</span>					</div><!-- .comment-author -->

					<div class="comment-metadata">
						<a href="/blog/2018/04/22/study-intel-part5/#comment-6"><time datetime="2020-08-23T01:05:49+03:00">23.08.2020 &#1074; 01:05</time></a>					</div><!-- .comment-metadata -->

									</footer><!-- .comment-meta -->

				<div class="comment-content">
					<p>&#1047;&#1076;&#1088;&#1072;&#1074;&#1089;&#1090;&#1074;&#1091;&#1081;&#1090;&#1077;, &#1044;&#1077;&#1085;&#1080;&#1089;! &#1057;&#1087;&#1072;&#1089;&#1080;&#1073;&#1086;, &#1088;&#1072;&#1076;, &#1095;&#1090;&#1086; &#1074;&#1072;&#1084; &#1087;&#1086;&#1085;&#1088;&#1072;&#1074;&#1080;&#1083;&#1080;&#1089;&#1100; &#1084;&#1086;&#1080; &#1079;&#1072;&#1084;&#1077;&#1090;&#1082;&#1080;. &#1042; &#1086;&#1073;&#1097;&#1077;&#1084;, &#1076;&#1072;, &#1103; &#1085;&#1072; &#1101;&#1090;&#1086;&#1084; &#1080; &#1086;&#1089;&#1090;&#1072;&#1085;&#1086;&#1074;&#1080;&#1083;&#1089;&#1103;. &#1053;&#1086; &#1084;&#1086;&#1078;&#1077;&#1090; &#1073;&#1099;&#1090;&#1100; &#1074;&#1077;&#1088;&#1085;&#1091;&#1089;&#1100; &#1082; &#1090;&#1077;&#1084;&#1077; &#1054;&#1057; &#1082;&#1086;&#1075;&#1076;&#1072;-&#1085;&#1080;&#1073;&#1091;&#1076;&#1100;. &#1050; OpenGL, &#1085;&#1072;&#1087;&#1088;&#1080;&#1084;&#1077;&#1088;, &#1103; &#1087;&#1077;&#1088;&#1080;&#1086;&#1076;&#1080;&#1095;&#1077;&#1089;&#1082;&#1080; &#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1102;&#1089;&#1100; &#128578;</p>
				</div><!-- .comment-content -->

				<div class="reply"><a rel="nofollow" class="comment-reply-link" href="/blog/2018/04/22/study-intel-part5/?replytocom=6#respond" data-commentid="6" data-postid="394" data-belowelement="div-comment-6" data-respondelement="respond" data-replyto="&#1050;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1081; &#1082; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; dvsav" aria-label="&#1050;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1081; &#1082; &#1079;&#1072;&#1087;&#1080;&#1089;&#1080; dvsav">&#1054;&#1090;&#1074;&#1077;&#1090;&#1080;&#1090;&#1100;</a></div>			</article><!-- .comment-body -->
		</li><!-- #comment-## -->
		</ol><!-- .comment-list -->

		
	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">&#1044;&#1086;&#1073;&#1072;&#1074;&#1080;&#1090;&#1100; &#1082;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1081; <small><a rel="nofollow" id="cancel-comment-reply-link" href="/blog/2018/04/22/study-intel-part5/#respond" style="display:none;">&#1054;&#1090;&#1084;&#1077;&#1085;&#1080;&#1090;&#1100; &#1086;&#1090;&#1074;&#1077;&#1090;</a></small></h3><form action="/blog/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes"><span id="email-notes">&#1042;&#1072;&#1096; &#1072;&#1076;&#1088;&#1077;&#1089; email &#1085;&#1077; &#1073;&#1091;&#1076;&#1077;&#1090; &#1086;&#1087;&#1091;&#1073;&#1083;&#1080;&#1082;&#1086;&#1074;&#1072;&#1085;.</span> <span class="required-field-message">&#1054;&#1073;&#1103;&#1079;&#1072;&#1090;&#1077;&#1083;&#1100;&#1085;&#1099;&#1077; &#1087;&#1086;&#1083;&#1103; &#1087;&#1086;&#1084;&#1077;&#1095;&#1077;&#1085;&#1099; <span class="required">*</span></span></p><p class="comment-form-comment"><label for="comment">&#1050;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1081; <span class="required">*</span></label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required></textarea></p><p class="comment-form-author"><label for="author">&#1048;&#1084;&#1103; <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" autocomplete="name" required></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" autocomplete="email" required></p>
<p class="comment-form-url"><label for="url">&#1057;&#1072;&#1081;&#1090;</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" autocomplete="url"></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes"> <label for="wp-comment-cookies-consent">&#1057;&#1086;&#1093;&#1088;&#1072;&#1085;&#1080;&#1090;&#1100; &#1084;&#1086;&#1105; &#1080;&#1084;&#1103;, email &#1080; &#1072;&#1076;&#1088;&#1077;&#1089; &#1089;&#1072;&#1081;&#1090;&#1072; &#1074; &#1101;&#1090;&#1086;&#1084; &#1073;&#1088;&#1072;&#1091;&#1079;&#1077;&#1088;&#1077; &#1076;&#1083;&#1103; &#1087;&#1086;&#1089;&#1083;&#1077;&#1076;&#1091;&#1102;&#1097;&#1080;&#1093; &#1084;&#1086;&#1080;&#1093; &#1082;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1077;&#1074;.</label></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="&#1054;&#1090;&#1087;&#1088;&#1072;&#1074;&#1080;&#1090;&#1100; &#1082;&#1086;&#1084;&#1084;&#1077;&#1085;&#1090;&#1072;&#1088;&#1080;&#1081;"> <input type="hidden" name="comment_post_ID" value="394" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p></form>	</div><!-- #respond -->
	
</div><!-- #comments -->

		
		</main><!-- #main -->
	</div><!-- #primary -->

<div id="sidebar-primary" class="widget-area" role="complementary">
	    <aside id="block-2" class="widget widget_block widget_search"><form role="search" method="get" action="/blog/" class="wp-block-search__button-outside wp-block-search__text-button wp-block-search"><label class="wp-block-search__label" for="wp-block-search__input-1">&#1055;&#1086;&#1080;&#1089;&#1082;</label><div class="wp-block-search__inside-wrapper "><input class="wp-block-search__input" id="wp-block-search__input-1" placeholder="" value="" type="search" name="s" required><button aria-label="&#1055;&#1086;&#1080;&#1089;&#1082;" class="wp-block-search__button wp-element-button" type="submit">&#1055;&#1086;&#1080;&#1089;&#1082;</button></div></form></aside><aside id="block-8" class="widget widget_block widget_tag_cloud"><p class="wp-block-tag-cloud"><a href="/blog/tag/net/" class="tag-cloud-link tag-link-3 tag-link-position-1" style="font-size: 11.652173913043pt;" aria-label=".NET (3 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">.NET</a>
<a href="/blog/tag/apache/" class="tag-cloud-link tag-link-4 tag-link-position-2" style="font-size: 10.191304347826pt;" aria-label="Apache (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">Apache</a>
<a href="/blog/tag/assembler/" class="tag-cloud-link tag-link-26 tag-link-position-3" style="font-size: 15.304347826087pt;" aria-label="Assembler (7 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074;)">Assembler</a>
<a href="/blog/tag/blogging/" class="tag-cloud-link tag-link-27 tag-link-position-4" style="font-size: 10.191304347826pt;" aria-label="Blogging (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">Blogging</a>
<a href="/blog/tag/bochs/" class="tag-cloud-link tag-link-6 tag-link-position-5" style="font-size: 10.191304347826pt;" aria-label="Bochs (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">Bochs</a>
<a href="/blog/tag/c/" class="tag-cloud-link tag-link-8 tag-link-position-6" style="font-size: 10.191304347826pt;" aria-label="C# (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">C#</a>
<a href="/blog/tag/c-c/" class="tag-cloud-link tag-link-7 tag-link-position-7" style="font-size: 22pt;" aria-label="C/C++ (27 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074;)">C/C++</a>
<a href="/blog/tag/cmake/" class="tag-cloud-link tag-link-9 tag-link-position-8" style="font-size: 8pt;" aria-label="cmake (1 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;)">cmake</a>
<a href="/blog/tag/coursera/" class="tag-cloud-link tag-link-11 tag-link-position-9" style="font-size: 10.191304347826pt;" aria-label="Coursera (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">Coursera</a>
<a href="/blog/tag/cygwin/" class="tag-cloud-link tag-link-12 tag-link-position-10" style="font-size: 11.652173913043pt;" aria-label="Cygwin (3 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">Cygwin</a>
<a href="/blog/tag/education/" class="tag-cloud-link tag-link-28 tag-link-position-11" style="font-size: 12.869565217391pt;" aria-label="Education (4 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">Education</a>
<a href="/blog/tag/git/" class="tag-cloud-link tag-link-13 tag-link-position-12" style="font-size: 10.191304347826pt;" aria-label="Git (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">Git</a>
<a href="/blog/tag/javascript/" class="tag-cloud-link tag-link-14 tag-link-position-13" style="font-size: 8pt;" aria-label="JavaScript (1 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;)">JavaScript</a>
<a href="/blog/tag/machine-learning/" class="tag-cloud-link tag-link-15 tag-link-position-14" style="font-size: 10.191304347826pt;" aria-label="Machine Learning (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">Machine Learning</a>
<a href="/blog/tag/miscelaneous/" class="tag-cloud-link tag-link-29 tag-link-position-15" style="font-size: 17.495652173913pt;" aria-label="Miscelaneous (11 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074;)">Miscelaneous</a>
<a href="/blog/tag/mysql/" class="tag-cloud-link tag-link-16 tag-link-position-16" style="font-size: 8pt;" aria-label="MySQL (1 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;)">MySQL</a>
<a href="/blog/tag/opengl/" class="tag-cloud-link tag-link-17 tag-link-position-17" style="font-size: 17.008695652174pt;" aria-label="OpenGL (10 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074;)">OpenGL</a>
<a href="/blog/tag/php/" class="tag-cloud-link tag-link-18 tag-link-position-18" style="font-size: 10.191304347826pt;" aria-label="PHP (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">PHP</a>
<a href="/blog/tag/physics/" class="tag-cloud-link tag-link-30 tag-link-position-19" style="font-size: 12.869565217391pt;" aria-label="Physics (4 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">Physics</a>
<a href="/blog/tag/powershell/" class="tag-cloud-link tag-link-19 tag-link-position-20" style="font-size: 10.191304347826pt;" aria-label="PowerShell (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">PowerShell</a>
<a href="/blog/tag/python/" class="tag-cloud-link tag-link-20 tag-link-position-21" style="font-size: 8pt;" aria-label="Python (1 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;)">Python</a>
<a href="/blog/tag/ue4/" class="tag-cloud-link tag-link-21 tag-link-position-22" style="font-size: 10.191304347826pt;" aria-label="UE4 (2 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">UE4</a>
<a href="/blog/tag/vulkan/" class="tag-cloud-link tag-link-22 tag-link-position-23" style="font-size: 15.913043478261pt;" aria-label="Vulkan (8 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074;)">Vulkan</a>
<a href="/blog/tag/winapi/" class="tag-cloud-link tag-link-23 tag-link-position-24" style="font-size: 11.652173913043pt;" aria-label="WinAPI (3 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">WinAPI</a>
<a href="/blog/tag/wordpress/" class="tag-cloud-link tag-link-24 tag-link-position-25" style="font-size: 12.869565217391pt;" aria-label="WordPress (4 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;)">WordPress</a>
<a href="/blog/tag/x86/" class="tag-cloud-link tag-link-25 tag-link-position-26" style="font-size: 15.304347826087pt;" aria-label="x86 (7 &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1086;&#1074;)">x86</a></p></aside><aside id="block-14" class="widget widget_block">
<ul class="wp-block-social-links is-layout-flex wp-block-social-links-is-layout-flex">

</ul>
</aside>	</div><!-- #sidebar-primary -->
</div><!-- .inner-wrapper --></div><!-- .container --></div><!-- #content -->
	<footer id="colophon" class="site-footer" role="contentinfo"><div class="container">    
	    	    	      <div class="copyright">
	        &#1040;&#1074;&#1090;&#1086;&#1088;&#1089;&#1082;&#1080;&#1077; &#1087;&#1088;&#1072;&#1074;&#1072; &#1079;&#1072;&#1097;&#1080;&#1097;&#1077;&#1085;&#1099;.	      </div><!-- .copyright -->
	    	    <div class="site-info">
	      <a href="https://ru.wordpress.org/">&#1056;&#1072;&#1073;&#1086;&#1090;&#1072;&#1077;&#1090; &#1085;&#1072; WordPress</a>
	      <span class="sep"> | </span>
			Education Hub &#1072;&#1074;&#1090;&#1086;&#1088;: <a href="https://wenthemes.com/" rel="designer" target="_blank">WEN Themes</a>	    </div><!-- .site-info -->
	    	</div><!-- .container --></footer><!-- #colophon -->
</div><!-- #page --><a href="#page" class="scrollup" id="btn-scrollup"><i class="fa fa-chevron-up"></i></a>
<script type="speculationrules">
{"prefetch":[{"source":"document","where":{"and":[{"href_matches":"\/dvsav.ru\/*"},{"not":{"href_matches":["\/dvsav.ru\/wp-*.php","\/dvsav.ru\/wp-admin\/*","\/dvsav.ru\/wp-content\/uploads\/*","\/dvsav.ru\/wp-content\/*","\/dvsav.ru\/wp-content\/plugins\/*","\/dvsav.ru\/wp-content\/themes\/education-hub\/*","\/dvsav.ru\/*\\?(.+)"]}},{"not":{"selector_matches":"a[rel~=\"nofollow\"]"}},{"not":{"selector_matches":".no-prefetch, .no-prefetch a"}}]},"eagerness":"conservative"}]}
</script>
<script type="text/javascript" src="/blog/wp-includes/js/dist/hooks.min.js?ver=4d63a3d491d11ffd8ac6" id="wp-hooks-js"></script>
<script type="text/javascript" src="/blog/wp-includes/js/dist/i18n.min.js?ver=5e580eb46a90c2b997e6" id="wp-i18n-js"></script>
<script type="text/javascript" id="wp-i18n-js-after">
/* <![CDATA[ */
wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );
/* ]]> */
</script>
<script type="text/javascript" src="/blog/wp-content/plugins/contact-form-7/includes/swv/js/index.js?ver=6.1.1" id="swv-js"></script>
<script type="text/javascript" id="contact-form-7-js-translations">
/* <![CDATA[ */
( function( domain, translations ) {
	var localeData = translations.locale_data[ domain ] || translations.locale_data.messages;
	localeData[""].domain = domain;
	wp.i18n.setLocaleData( localeData, domain );
} )( "contact-form-7", {"translation-revision-date":"2025-08-05 08:59:32+0000","generator":"GlotPress\/4.0.1","domain":"messages","locale_data":{"messages":{"":{"domain":"messages","plural-forms":"nplurals=3; plural=(n % 10 == 1 && n % 100 != 11) ? 0 : ((n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 12 || n % 100 > 14)) ? 1 : 2);","lang":"ru"},"This contact form is placed in the wrong place.":["\u042d\u0442\u0430 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u0430\u044f \u0444\u043e\u0440\u043c\u0430 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0430 \u0432 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u043c\u0435\u0441\u0442\u0435."],"Error:":["\u041e\u0448\u0438\u0431\u043a\u0430:"]}},"comment":{"reference":"includes\/js\/index.js"}} );
/* ]]> */
</script>
<script type="text/javascript" id="contact-form-7-js-before">
/* <![CDATA[ */
var wpcf7 = {
    "api": {
        "root": "http:\/\/localhost\/dvsav.ru\/wp-json\/",
        "namespace": "contact-form-7\/v1"
    }
};
/* ]]> */
</script>
<script type="text/javascript" src="/blog/wp-content/plugins/contact-form-7/includes/js/index.js?ver=6.1.1" id="contact-form-7-js"></script>
<script type="text/javascript" src="/blog/wp-content/themes/education-hub/js/skip-link-focus-fix.min.js?ver=20130115" id="education-hub-skip-link-focus-fix-js"></script>
<script type="text/javascript" src="/blog/wp-content/themes/education-hub/third-party/cycle2/js/jquery.cycle2.min.js?ver=2.1.6" id="cycle2-js"></script>
<script type="text/javascript" src="/blog/wp-content/themes/education-hub/js/custom.min.js?ver=1.0" id="education-hub-custom-js"></script>
<script type="text/javascript" id="education-hub-navigation-js-extra">
/* <![CDATA[ */
var EducationHubScreenReaderText = {"expand":"<span class=\"screen-reader-text\">\u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0435\u0435 \u043c\u0435\u043d\u044e<\/span>","collapse":"<span class=\"screen-reader-text\">\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0434\u043e\u0447\u0435\u0440\u043d\u0435\u0435 \u043c\u0435\u043d\u044e<\/span>"};
/* ]]> */
</script>
<script type="text/javascript" src="/blog/wp-content/themes/education-hub/js/navigation.min.js?ver=20120206" id="education-hub-navigation-js"></script>
<script type="text/javascript" src="/blog/wp-includes/js/comment-reply.min.js?ver=6.8.2" id="comment-reply-js" async="async" data-wp-strategy="async"></script>
</body>
</html>
